<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-site-verification" content="d13Hh8m2coFjR-lHc63J8TJZSHc95Q5bJAxervsJEtk" />
    <link rel="shortcut icon" href="favicon.jpg" type="image/x-icon">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>LND Multi-Tool Suite | Free AI-Powered Creative & Utility Tools</title>
    <meta name="description" content="Your all-in-one suite of free AI-powered tools. Generate AI art, convert text to speech, and use 30+ utility tools—no sign-up required.">
    <meta name="keywords" content="AI tools, free AI generator, LND, LND AI, Ai, LND AI HUB, lndaihub, lnd ai hub, multi-tool suite, text to image AI, text to speech online, online utility tools, AI art generator, free text to image uncensored, web image scraper, QR code scanner online, tone generator, GPS location finder, notes saver, online to-do list, dice roller, coin toss, how to generate AI images for free, best free text to speech with download, online tools that save data, browser based utility tools, all in one creative suite, free developer tools online, IP address finder, currency converter tool, AI tools India, online utilities Rajasthan, creative AI tools for professionals India">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://lndaihub.netlify.app/" />

    <!-- Responsive -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Open Graph / Facebook (no image) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lndaihub.netlify.app/">
    <meta property="og:title" content="LND Multi-Tool Suite | Free AI-Powered Tools">
    <meta property="og:description" content="30+ free tools: AI art, TTS, QR scanners, notes, developer utilities. No login.">

    <!-- Twitter (no image) -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://lndaihub.netlify.app/">
    <meta name="twitter:title" content="LND Multi-Tool Suite | Free AI Tools">
    <meta name="twitter:description" content="All-in-one AI tool suite: generate art, speech, and use 30+ creative utilities—completely free.">

    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "WebApplication",
          "name": "LND Multi-Tool Suite",
          "url": "https://lndaihub.netlify.app/",
          "description": "All-in-one suite of free AI-powered creative and utility tools. Text-to-image, TTS, QR code scanner, and 30+ browser tools.",
          "applicationCategory": "UtilitiesApplication",
          "operatingSystem": "All",
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
          },
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "12000"
          }
        }
        </script>

    <!-- QR Scanner Library -->
    <script src="https://unpkg.com/html5-qrcode@2.0.9/dist/html5-qrcode.min.js"></script>
    <!-- PDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Additional Utility Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Professional Dark Purple & Black Palette */
            --primary-purple: #2D1B69;
            --secondary-purple: #4C1D95;
            --dark-purple: #1E1B4B;
            --light-purple: #6366F1;
            --accent-purple: #8B5CF6;
            --bg-black: #000000;
            --bg-dark: #0F0F23;
            --bg-darker: #0A0A1A;
            --text-light: #F8FAFC;
            --text-accent: #E2E8F0;
            --text-muted: #94A3B8;
            --glass-bg: rgba(45, 27, 105, 0.15);
            --glass-border: rgba(139, 92, 246, 0.3);
            --shadow-primary: rgba(45, 27, 105, 0.4);
            --shadow-accent: rgba(139, 92, 246, 0.2);
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: linear-gradient(135deg, var(--bg-black) 0%, var(--bg-darker) 20%, var(--dark-purple) 40%, var(--primary-purple) 60%, var(--secondary-purple) 80%, var(--dark-purple) 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            min-height: 100vh;
            color: var(--text-light);
            overflow-x: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        /* Enhanced Particle System */
        .cosmic-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--accent-purple);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite;
            box-shadow: 0 0 6px var(--accent-purple);
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(0.8); 
                opacity: 0.4; 
            }
            25% { 
                transform: translateY(-15px) rotate(90deg) scale(1.2); 
                opacity: 0.8; 
            }
            50% { 
                transform: translateY(-30px) rotate(180deg) scale(1); 
                opacity: 1; 
            }
            75% { 
                transform: translateY(-15px) rotate(270deg) scale(1.1); 
                opacity: 0.6; 
            }
        }

        /* Animated Background Overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(45, 27, 105, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(76, 29, 149, 0.05) 0%, transparent 50%);
            animation: backgroundPulse 15s ease-in-out infinite;
            z-index: 0;
        }

        @keyframes backgroundPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .container {
            position: relative;
            z-index: 2;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            padding: 50px 30px;
            margin-bottom: 40px;
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 25px;
            box-shadow: 
                0 25px 50px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(139, 92, 246, 0.1);
            position: relative;
            overflow: hidden;
            animation: headerGlow 3s ease-in-out infinite alternate;
        }

        @keyframes headerGlow {
            0% { box-shadow: 0 25px 50px var(--shadow-primary), inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 0 0 1px rgba(139, 92, 246, 0.1); }
            100% { box-shadow: 0 30px 60px var(--shadow-primary), inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 0 0 2px rgba(139, 92, 246, 0.2); }
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, var(--accent-purple), transparent);
            animation: rotate 12s linear infinite;
            opacity: 0.08;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            margin-bottom: 25px;
        }

        .logo-svg {
            width: 90px;
            height: 90px;
            filter: drop-shadow(0 0 25px var(--accent-purple));
            animation: logoFloat 4s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(5deg); }
        }

        .main-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2.8rem, 5vw, 4.5rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--text-light), var(--accent-purple), var(--light-purple), var(--text-light));
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: textGradient 4s ease-in-out infinite;
            text-shadow: 0 0 40px rgba(139, 92, 246, 0.3);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        @keyframes textGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            color: var(--text-accent);
            opacity: 0.9;
            font-weight: 400;
            letter-spacing: 1.5px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .credit-badge {
            position: absolute;
            top: 25px;
            right: 25px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.85rem;
            font-weight: 700;
            letter-spacing: 1px;
            box-shadow: 
                0 8px 20px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            animation: badgePulse 2s ease-in-out infinite;
        }

        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .nav-tab {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 15px 25px;
            color: var(--text-light);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-tab:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-color: var(--accent-purple);
            box-shadow: 0 10px 25px var(--shadow-primary);
        }

        .main-content {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr;
            gap: 35px;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }

        .tool-section {
            display: none;
        }

        .tool-section.active {
            display: block;
        }

        .control-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            animation: panelGlow 4s ease-in-out infinite alternate;
        }

        @keyframes panelGlow {
            0% { box-shadow: 0 20px 40px var(--shadow-primary), inset 0 1px 0 rgba(255, 255, 255, 0.1); }
            100% { box-shadow: 0 25px 50px var(--shadow-primary), inset 0 1px 0 rgba(255, 255, 255, 0.15); }
        }

        .control-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent-purple), transparent);
            border-radius: 20px 20px 0 0;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .form-group {
            margin-bottom: 35px;
        }

        .form-label {
            display: block;
            margin-bottom: 15px;
            font-weight: 700;
            color: var(--text-light);
            font-size: 1.15rem;
            letter-spacing: 0.5px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .prompt-container {
            position: relative;
        }

        .prompt-input {
            width: 100%;
            min-height: 130px;
            padding: 25px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            color: var(--text-light);
            font-size: 1.05rem;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .prompt-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 
                0 0 25px rgba(139, 92, 246, 0.4),
                inset 0 2px 10px rgba(0, 0, 0, 0.3);
            background: rgba(0, 0, 0, 0.6);
        }

        .prompt-input::placeholder {
            color: var(--text-muted);
            font-style: italic;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .select-wrapper {
            position: relative;
        }

        .custom-select {
            width: 100%;
            padding: 18px 25px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            color: var(--text-light);
            font-size: 1rem;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            appearance: none;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .custom-select:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 
                0 0 20px rgba(139, 92, 246, 0.3),
                inset 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .select-wrapper::after {
            content: '▼';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-purple);
            pointer-events: none;
            font-size: 0.9rem;
            animation: arrowFloat 2s ease-in-out infinite;
        }

        @keyframes arrowFloat {
            0%, 100% { transform: translateY(-50%); }
            50% { transform: translateY(-45%); }
        }

        .generate-btn {
            width: 100%;
            padding: 25px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple), var(--light-purple));
            background-size: 300% 300%;
            border: none;
            border-radius: 15px;
            color: var(--text-light);
            font-size: 1.3rem;
            font-weight: 800;
            font-family: 'Orbitron', monospace;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 15px 35px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: buttonPulse 3s ease-in-out infinite;
        }

        @keyframes buttonPulse {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 20px 45px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
            animation: buttonHover 1s ease infinite;
        }

        @keyframes buttonHover {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .generate-btn:active {
            transform: translateY(-1px);
        }

        .generate-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
            animation: none;
        }

        .btn-icon {
            margin-right: 12px;
            font-size: 1.5rem;
            animation: iconSpin 2s linear infinite;
        }

        @keyframes iconSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .results-section {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            min-height: 450px;
            display: flex;
            flex-direction: column;
            animation: panelGlow 4s ease-in-out infinite alternate;
        }

        .results-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 2px solid var(--glass-border);
        }

        .results-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.6rem;
            font-weight: 800;
            color: var(--text-light);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .results-count {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.95rem;
            font-weight: 700;
            box-shadow: 
                0 8px 20px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: countPulse 2s ease-in-out infinite;
        }

        @keyframes countPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
            flex: 1;
        }

        .image-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
            backdrop-filter: blur(15px);
            box-shadow: 0 10px 30px var(--shadow-primary);
        }

        .image-card:hover {
            transform: translateY(-8px);
            box-shadow: 
                0 20px 50px var(--shadow-primary),
                0 0 30px rgba(139, 92, 246, 0.3);
            border-color: var(--accent-purple);
        }

        .image-container {
            position: relative;
            overflow: hidden;
        }

        .generated-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .image-card:hover .generated-image {
            transform: scale(1.05);
        }

        .image-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(45, 27, 105, 0.8), rgba(139, 92, 246, 0.8));
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-card:hover .image-overlay {
            opacity: 1;
        }

        .download-btn {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            color: var(--text-light);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(139, 92, 246, 0.6);
        }

        .image-info {
            padding: 20px;
        }

        .image-source {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .image-prompt {
            font-size: 0.9rem;
            color: var(--text-accent);
            line-height: 1.4;
            margin-bottom: 15px;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 60px 20px;
            flex: 1;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.7;
        }

        .empty-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .empty-subtext {
            font-size: 1rem;
            color: var(--text-muted);
            max-width: 400px;
            line-height: 1.5;
        }

        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            flex: 1;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--glass-border);
            border-top: 4px solid var(--accent-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 25px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .loading-subtext {
            font-size: 1rem;
            color: var(--text-muted);
        }

        .error-message {
            background: rgba(220, 38, 38, 0.1);
            border: 2px solid rgba(220, 38, 38, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 15px;
            color: #FCA5A5;
        }

        .reload-btn {
            background: linear-gradient(135deg, #DC2626, #B91C1C);
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            color: white;
            font-weight: 700;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .reload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(220, 38, 38, 0.4);
        }

        .footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 2px solid var(--glass-border);
        }

        .footer-text {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        .lnd-signature {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: 1px;
        }

        /* Tools Grid for More Tools Section */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .tool-card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-purple);
            box-shadow: 0 15px 35px var(--shadow-primary);
        }

        .tool-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .tool-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .tool-description {
            font-size: 0.9rem;
            color: var(--text-muted);
            line-height: 1.4;
        }

        /* File Input Styling */
        .file-input-wrapper {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .file-input {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-input-label {
            display: block;
            padding: 18px 25px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            color: var(--text-light);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .file-input-label:hover {
            border-color: var(--accent-purple);
            background: rgba(0, 0, 0, 0.6);
        }

        /* Calculator Styles */
        .calc-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            color: var(--text-light);
            font-size: 1.1rem;
            font-weight: 600;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 50px;
        }

        .calc-btn:hover {
            transform: translateY(-2px);
            border-color: var(--accent-purple);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
        }

        .calc-btn:active {
            transform: translateY(0);
        }

        .calc-btn.operator {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            color: white;
            font-weight: 700;
        }

        .calc-btn.scientific {
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            font-size: 0.9rem;
        }

        .calculator-history {
            color: var(--text-muted);
        }

        .history-item {
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }

        .history-expression {
            color: var(--text-light);
        }

        .history-result {
            color: var(--accent-purple);
            font-weight: 600;
        }

        /* Checkbox Styles */
        .checkbox-label {
            display: flex;
            align-items: center;
            color: var(--text-light);
            font-size: 0.9rem;
            cursor: pointer;
            position: relative;
            padding-left: 35px;
            user-select: none;
        }

        .checkbox-label input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .checkmark {
            position: absolute;
            left: 0;
            height: 20px;
            width: 20px;
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .checkbox-label:hover .checkmark {
            border-color: var(--accent-purple);
        }

        .checkbox-label input:checked ~ .checkmark {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border-color: var(--accent-purple);
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        .checkbox-label input:checked ~ .checkmark:after {
            display: block;
        }

        .checkbox-label .checkmark:after {
            left: 6px;
            top: 2px;
            width: 6px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        /* Range Slider Styles */
        .range-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--glass-bg);
            outline: none;
            -webkit-appearance: none;
            margin: 15px 0;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 10px rgba(139, 92, 246, 0.3);
        }

        .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 10px rgba(139, 92, 246, 0.3);
        }

        /* Chatbot Styles */
        .chatbot-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
            color: white;
            font-size: 24px;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(139, 92, 246, 0.6);
        }

        .chatbot-window {
            position: fixed;
            bottom: 90px;
            left: 20px;
            width: 380px;
            height: 500px;
            background: var(--bg-darker);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            display: none;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            z-index: 1001;
            backdrop-filter: blur(20px);
            overflow: hidden;
        }

        .chatbot-window.open {
            display: flex;
        }

        .chatbot-header {
            padding: 15px 20px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-bottom: 2px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-title {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .chat-model-select {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            color: var(--text-light);
            padding: 6px 10px;
            font-size: 0.85rem;
            cursor: pointer;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            border-radius: 5px;
            transition: background 0.2s ease;
        }

        .chatbot-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-message {
            display: flex;
            gap: 12px;
            max-width: 85%;
        }

        .user-message {
            flex-direction: row-reverse;
            align-self: flex-end;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .bot-message .message-avatar {
            background: var(--accent-purple);
        }

        .user-message .message-avatar {
            background: var(--secondary-purple);
        }

        .message-content {
            background: var(--glass-bg);
            border-radius: 12px;
            padding: 12px 15px;
            line-height: 1.5;
            word-wrap: break-word;
            backdrop-filter: blur(10px);
        }

        .user-message .message-content {
            background: var(--primary-purple);
        }

        .chatbot-input-area {
            padding: 20px;
            border-top: 2px solid var(--glass-border);
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            background: var(--bg-dark);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            padding: 12px 15px;
            color: var(--text-light);
            resize: none;
            min-height: 20px;
            max-height: 100px;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
        }

        .chat-send-btn {
            background: var(--accent-purple);
            border: none;
            border-radius: 12px;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .chat-send-btn:hover {
            background: var(--light-purple);
            transform: translateY(-2px);
        }

        /* QR Scanner Styles */
        .qr-scanner-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .qr-scanner-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .qr-scanner-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            color: var(--accent-purple);
            margin-bottom: 10px;
        }

        .qr-scanner-subtitle {
            color: var(--text-muted);
            font-size: 1rem;
        }

        .qr-scanner-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .qr-scanner-btn {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .qr-scanner-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
        }

        .qr-scanner-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .qr-scanner-result {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            word-break: break-all;
        }

        .qr-scanner-result h4 {
            color: var(--accent-purple);
            margin-bottom: 10px;
        }

        .qr-scanner-result p {
            color: var(--text-light);
            line-height: 1.6;
        }

        #qr-reader {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            border-radius: 15px;
            overflow: hidden;
        }

        /* TTS Audio Player Styles */
        .audio-player {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .audio-player audio {
            width: 100%;
            margin-bottom: 15px;
        }

        .audio-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .audio-voice {
            font-weight: 600;
            color: var(--accent-purple);
        }

        .audio-speed {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .audio-text {
            color: var(--text-accent);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        /* Tone Generator Styles */
        .tone-generator-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .tone-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }

        .tone-frequency-display {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-purple);
            margin-bottom: 20px;
        }

        .tone-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .tone-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            padding: 15px;
            color: var(--text-light);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tone-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
        }

        .tone-btn.active {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border-color: var(--accent-purple);
        }

        /* Whiteboard Styles */
        .whiteboard-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .whiteboard-toolbar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .tool-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            padding: 10px 15px;
            color: var(--text-light);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tool-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
        }

        .tool-btn.active {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border-color: var(--accent-purple);
        }

        .color-picker {
            width: 40px;
            height: 40px;
            border: 2px solid var(--glass-border);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .color-picker:hover {
            transform: scale(1.1);
        }

        .size-slider {
            width: 150px;
        }

        #whiteboard {
            width: 100%;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: crosshair;
        }

        /* Browser Editor Styles */
        .browser-editor-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .browser-toolbar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
        }

        .browser-address-bar {
            flex: 1;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--glass-border);
            border-radius: 25px;
            padding: 12px 20px;
            color: var(--text-light);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .browser-address-bar:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);
        }

        .browser-btn {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border: none;
            border-radius: 10px;
            padding: 10px 15px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .browser-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
        }

        #browser-iframe {
            width: 100%;
            height: 500px;
            background: white;
            border-radius: 15px;
            border: none;
        }

        .edit-mode-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: none;
        }

        .edit-mode-indicator.active {
            display: block;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header {
                padding: 30px 20px;
                margin-bottom: 30px;
            }
            
            .logo-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .logo-svg {
                width: 60px;
                height: 60px;
            }
            
            .main-title {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .credit-badge {
                position: static;
                margin-top: 20px;
                display: inline-block;
            }
            
            .nav-tabs {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-tab {
                padding: 12px 20px;
                text-align: center;
            }
            
            .controls-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .control-panel,
            .results-section {
                padding: 25px;
            }
            
            .prompt-input {
                min-height: 110px;
                padding: 20px;
            }
            
            .generate-btn {
                padding: 20px;
                font-size: 1.1rem;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .image-grid {
                grid-template-columns: 1fr;
            }

            .chatbot-window {
                width: calc(100vw - 30px);
                height: 70vh;
                left: 15px;
                right: 15px;
            }

            .qr-scanner-controls {
                flex-direction: column;
                align-items: center;
            }

            .qr-scanner-btn {
                width: 100%;
                max-width: 300px;
            }

            .tone-buttons {
                grid-template-columns: repeat(3, 1fr);
            }

            .whiteboard-toolbar {
                justify-content: center;
            }

            .browser-toolbar {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Advanced Animations */
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-up {
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Enhanced Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-darker);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-radius: 5px;
            box-shadow: 0 0 10px var(--accent-purple);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--secondary-purple), var(--light-purple));
        }
    </style>
</head>
<body>
    <!-- Enhanced Cosmic Particles Background -->
    <div class="cosmic-particles" id="particles"></div>

    <div class="container">
        <!-- Header Section -->
        <header class="header fade-in">
            <div class="header-content">
                <div class="logo-container">
                    <!-- Enhanced SVG Logo -->
                    <svg class="logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#6366F1;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#2D1B69;stop-opacity:1" />
                            </linearGradient>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                                <feMerge> 
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        
                        <!-- Enhanced Neural Network Design -->
                        <circle cx="20" cy="30" r="5" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="0.4;1;0.4" dur="2.5s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="50" cy="20" r="6" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="1;0.4;1" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="80" cy="35" r="5" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="0.4;1;0.4" dur="2.2s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="30" cy="60" r="7" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="1;0.4;1" dur="2.8s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="70" cy="65" r="6" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="0.4;1;0.4" dur="3.2s" repeatCount="indefinite"/>
                        </circle>
                        
                        <!-- Enhanced Connecting Lines -->
                        <line x1="20" y1="30" x2="50" y2="20" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.3;0.9;0.3" dur="3.5s" repeatCount="indefinite"/>
                        </line>
                        <line x1="50" y1="20" x2="80" y2="35" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.9;0.3;0.9" dur="3s" repeatCount="indefinite"/>
                        </line>
                        <line x1="20" y1="30" x2="30" y2="60" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.3;0.9;0.3" dur="3.2s" repeatCount="indefinite"/>
                        </line>
                        <line x1="80" y1="35" x2="70" y2="65" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.9;0.3;0.9" dur="2.8s" repeatCount="indefinite"/>
                        </line>
                        <line x1="30" y1="60" x2="70" y2="65" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.3;0.9;0.3" dur="3.8s" repeatCount="indefinite"/>
                        </line>
                        
                        <!-- Enhanced Central AI Brain -->
                        <circle cx="50" cy="50" r="10" fill="none" stroke="url(#logoGradient)" stroke-width="4" filter="url(#glow)">
                            <animate attributeName="r" values="10;14;10" dur="4.5s" repeatCount="indefinite"/>
                        </circle>
                        <text x="50" y="56" text-anchor="middle" fill="url(#logoGradient)" font-family="Orbitron" font-size="14" font-weight="bold">AI</text>
                    </svg>
                    
                    <div>
                        <h1 class="main-title">LND Multi-Tool Suite</h1>
                        <p class="subtitle">◆ AI-Powered Tools for Creative Professionals ◆</p>
                    </div>
                </div>
                <div class="credit-badge">Created by LND</div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('textToImage')">🎨 Text to Image</button>
            <button class="nav-tab" onclick="switchTab('webScrap')">🔍 Web-Scrap Images</button>
            <button class="nav-tab" onclick="switchTab('textToSpeech')">🔊 Text to Speech</button>
            <button class="nav-tab" onclick="switchTab('moreTools')">🛠️ More Tools</button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Text to Image Section -->
            <section id="textToImage" class="tool-section active">
                <div class="control-panel slide-up">
                    <form id="imageForm">
                        <div class="form-group">
                            <label for="prompt" class="form-label">✨ Describe Your Vision</label>
                            <div class="prompt-container">
                                <textarea 
                                    id="prompt" 
                                    class="prompt-input" 
                                    placeholder="Enter your creative prompt here... e.g., 'A majestic dragon soaring through a cyberpunk cityscape at sunset, neon lights reflecting off its scales, ultra-detailed, 8K resolution'"
                                    required
                                ></textarea>
                            </div>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="imageCount" class="form-label">🎯 Number of Images</label>
                                <div class="select-wrapper">
                                    <select id="imageCount" class="custom-select">
                                        <option value="1">1 Image</option>
                                        <option value="2">2 Images</option>
                                        <option value="3">3 Images</option>
                                        <option value="4">4 Images</option>
                                        <option value="5">5 Images</option>
                                        <option value="6">6 Images</option>
                                        <option value="10">10 Images</option>
                                        <option value="15">15 Images</option>
                                        <option value="20">20 Images</option>
                                        <option value="25">25 Images</option>
                                        <option value="30">30 Images</option>
                                        <option value="35">35 Images</option>
                                        <option value="40">40 Images</option>
                                        <option value="45">45 Images</option>
                                        <option value="50">50 Images</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="style" class="form-label">🎨 Art Style</label>
                                <div class="select-wrapper">
                                    <select id="style" class="custom-select">
                                        <option value="">Default</option>
                                        <option value="photorealistic">Photorealistic</option>
                                        <option value="digital art">Digital Art</option>
                                        <option value="oil painting">Oil Painting</option>
                                        <option value="watercolor">Watercolor</option>
                                        <option value="anime">Anime Style</option>
                                        <option value="cyberpunk">Cyberpunk</option>
                                        <option value="steampunk">Steampunk</option>
                                        <option value="fantasy art">Fantasy Art</option>
                                        <option value="abstract">Abstract</option>
                                        <option value="minimalist">Minimalist</option>
                                        <option value="vintage">Vintage</option>
                                        <option value="noir">Film Noir</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="quality" class="form-label">⚡ Quality Level</label>
                                <div class="select-wrapper">
                                    <select id="quality" class="custom-select">
                                        <option value="standard">Standard</option>
                                        <option value="high">High Quality</option>
                                        <option value="ultra">Ultra HD</option>
                                        <option value="masterpiece">Masterpiece</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="apiProvider" class="form-label">🔮 AI Engine</label>
                                <div class="select-wrapper">
                                    <select id="apiProvider" class="custom-select">
                                        <option value="random">🎲 Shuffle Random (Recommended)</option>
                                        <option value="pollinations">Pollinations AI</option>
                                        <option value="deepai">DeepAI Engine</option>
                                        <option value="huggingface">HuggingFace</option>
                                        <option value="modelslab">ModelsLab (Uncensored)</option>
                                        <option value="replicate">Replicate AI</option>
                                        <option value="perchance">Perchance AI (Uncensored)</option>
                                        <option value="raphaelai">Raphael AI (Unlimited)</option>
                                        <option value="venice">Venice AI (Uncensored)</option>
                                        <option value="nastia">Nastia AI (Uncensored)</option>
                                        <option value="vadoo">Vadoo AI (Unrestricted)</option>
                                        <option value="flux">FLUX.1 (Open Source)</option>
                                        <option value="stablediffusion">Stable Diffusion (Free)</option>
                                        <option value="aiscribble">AIScribble (Uncensored)</option>
                                        <option value="nsfwai">NSFW AI Generator (18+)</option>
                                        <option value="dynapictures">DynaPictures (Adult)</option>
                                        <option value="gemini">Gemini 2.0 Flash (Uncensored)</option>
                                        <option value="sexyai">SexyAI (18+ Content)</option>
                                        <option value="pornpen">PornPen AI (Adult)</option>
                                        <option value="soulgen">SoulGen (NSFW)</option>
                                        <option value="dreamgf">DreamGF AI (Adult)</option>
                                        <option value="icegirls">IceGirls AI (18+)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="generate-btn" id="generateBtn">
                            <span class="btn-icon">🚀</span>
                            Generate Masterpiece
                        </button>
                    </form>
                </div>

                <div class="results-section slide-up">
                    <div class="results-header">
                        <h2 class="results-title">◆ Generated Artworks ◆</h2>
                        <div class="results-count" id="resultsCount">0 Images</div>
                    </div>
                    
                    <div id="resultsContainer">
                        <div class="empty-state">
                            <div class="empty-icon">🎨</div>
                            <div class="empty-text">Ready to Create Magic</div>
                            <div class="empty-subtext">Enter your prompt above and let LND AI bring your imagination to life</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Web-Scrap Images Section -->
            <section id="webScrap" class="tool-section">
                <div class="control-panel slide-up">
                    <form id="scrapeForm">
                        <div class="form-group">
                            <label for="scrapeKeyword" class="form-label">🔍 Search Keyword</label>
                            <input type="text" id="scrapeKeyword" class="prompt-input" placeholder="Enter keyword to search for images... e.g., 'nature', 'technology', 'cats'" required>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="scrapeCount" class="form-label">📊 Number of Images</label>
                                <div class="select-wrapper">
                                    <select id="scrapeCount" class="custom-select">
                                        <option value="10">10 Images</option>
                                        <option value="20" selected>20 Images</option>
                                        <option value="50">50 Images</option>
                                        <option value="100">100 Images</option>
                                        <option value="200">200 Images</option>
                                        <option value="500">500 Images</option>
                                        <option value="1000">1000 Images</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="scrapeQuality" class="form-label">⚡ Image Quality</label>
                                <div class="select-wrapper">
                                    <select id="scrapeQuality" class="custom-select">
                                        <option value="medium">Medium Quality</option>
                                        <option value="high" selected>High Quality</option>
                                        <option value="original">Original Quality</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="generate-btn" id="scrapBtn">
                            <span class="btn-icon">🔍</span>
                            Start Web Scraping
                        </button>
                    </form>
                </div>

                <div class="results-section slide-up">
                    <div class="results-header">
                        <h2 class="results-title">◆ Web-Scraped Images (Max 6 Displayed) ◆</h2>
                        <div class="results-count" id="scrapResultsCount">0 Images</div>
                        <button id="downloadZipBtn" class="download-btn" style="display: none;">
                            📦 Download All ZIP
                        </button>
                    </div>
                    
                    <div id="scrapResultsContainer">
                        <div class="empty-state">
                            <div class="empty-icon">🔍</div>
                            <div class="empty-text">Ready for Web Scraping</div>
                            <div class="empty-subtext">Enter a keyword above and let LND scrape high-quality images from the web</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Text to Speech Section -->
            <section id="textToSpeech" class="tool-section">
                <div class="control-panel slide-up">
                    <form id="ttsForm">
                        <div class="form-group">
                            <label for="ttsText" class="form-label">📝 Enter Text to Convert</label>
                            <div class="prompt-container">
                                <textarea 
                                    id="ttsText" 
                                    class="prompt-input" 
                                    placeholder="Enter your text here for speech conversion..."
                                    required
                                ></textarea>
                            </div>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="ttsVoice" class="form-label">🎤 Voice Selection</label>
                                <div class="select-wrapper">
                                    <select id="ttsVoice" class="custom-select">
                                        <option value="en-US-female">English Female (US)</option>
                                        <option value="en-US-male">English Male (US)</option>
                                        <option value="en-GB-female">English Female (UK)</option>
                                        <option value="en-GB-male">English Male (UK)</option>
                                        <option value="en-US-child">Young Boy English</option>
                                        <option value="hi-IN-female">Hindi Female (India)</option>
                                        <option value="hi-IN-male">Hindi Male (India)</option>
                                        <option value="en-IN-female">Indian English Female</option>
                                        <option value="en-IN-male">Indian English Male</option>
                                        <option value="es-ES-female">Spanish Female</option>
                                        <option value="fr-FR-female">French Female</option>
                                        <option value="de-DE-male">German Male</option>
                                        <option value="it-IT-female">Italian Female</option>
                                        <option value="pt-BR-female">Portuguese Female (Brazil)</option>
                                        <option value="ru-RU-female">Russian Female</option>
                                        <option value="ja-JP-female">Japanese Female</option>
                                        <option value="ko-KR-female">Korean Female</option>
                                        <option value="zh-CN-female">Chinese Female (Mandarin)</option>
                                        <option value="ar-SA-female">Arabic Female</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="ttsSpeed" class="form-label">⚡ Speech Speed</label>
                                <div class="select-wrapper">
                                    <select id="ttsSpeed" class="custom-select">
                                        <option value="0.5">Very Slow</option>
                                        <option value="0.75">Slow</option>
                                        <option value="1.0" selected>Normal</option>
                                        <option value="1.25">Fast</option>
                                        <option value="1.5">Very Fast</option>
                                        <option value="2.0">Ultra Fast</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="ttsEngine" class="form-label">🔊 TTS Engine</label>
                                <div class="select-wrapper">
                                    <select id="ttsEngine" class="custom-select">
                                        <option value="google" selected>Google TTS (Recommended)</option>
                                        <option value="microsoft">Microsoft Azure</option>
                                        <option value="amazon">Amazon Polly</option>
                                        <option value="ibm">IBM Watson</option>
                                        <option value="offline">Offline Browser TTS</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="ttsFormat" class="form-label">📁 Audio Format</label>
                                <div class="select-wrapper">
                                    <select id="ttsFormat" class="custom-select">
                                        <option value="mp3" selected>MP3 (Recommended)</option>
                                        <option value="wav">WAV (High Quality)</option>
                                        <option value="ogg">OGG (Smaller Size)</option>
                                        <option value="aac">AAC (Apple Compatible)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="generate-btn" id="ttsBtn">
                            <span class="btn-icon">🔊</span>
                            Generate Speech
                        </button>
                    </form>
                </div>

                <div class="results-section slide-up">
                    <div class="results-header">
                        <h2 class="results-title">◆ Generated Speech ◆</h2>
                        <div class="results-count" id="ttsResultsCount">0 Audio Files</div>
                    </div>
                    
                    <div id="ttsResultsContainer">
                        <div class="empty-state">
                            <div class="empty-icon">🔊</div>
                            <div class="empty-text">Ready to Generate Speech</div>
                            <div class="empty-subtext">Enter your text above and convert it to natural-sounding speech with MP3 download</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- More Tools Section -->
            <section id="moreTools" class="tool-section">
                <!-- QR Code Scanner -->
                <div class="qr-scanner-container">
                    <div class="qr-scanner-header">
                        <h2 class="qr-scanner-title">📱 QR Code Scanner</h2>
                        <p class="qr-scanner-subtitle">Scan QR codes using your camera or upload an image</p>
                    </div>
                    
                    <div class="qr-scanner-controls">
                        <button id="startScanBtn" class="qr-scanner-btn">📷 Start Camera Scan</button>
                        <button id="switchCameraBtn" class="qr-scanner-btn" style="display: none;">🔄 Switch Camera</button>
                        <button id="uploadScanBtn" class="qr-scanner-btn">📁 Upload Image</button>
                        <button id="stopScanBtn" class="qr-scanner-btn" style="display: none;">⏹️ Stop Scan</button>
                    </div>
                    
                    <div id="qr-reader" style="display: none;"></div>
                    
                    <div id="qr-scanner-result" class="qr-scanner-result" style="display: none;">
                        <h4>🔍 Scan Result:</h4>
                        <p id="qr-result-text"></p>
                        <button id="copyQrResult" class="download-btn">📋 Copy Result</button>
                    </div>
                    
                    <input type="file" id="qrFileInput" accept="image/*" style="display: none;">
                </div>

                <!-- Tone Generator -->
                <div class="tone-generator-container">
                    <div class="qr-scanner-header">
                        <h2 class="qr-scanner-title">🎵 Tone Generator</h2>
                        <p class="qr-scanner-subtitle">Generate pure tones for testing and calibration</p>
                    </div>
                    
                    <div class="tone-frequency-display" id="toneFrequencyDisplay">440 Hz</div>
                    
                    <div class="tone-controls">
                        <div class="form-group">
                            <label for="toneFrequency" class="form-label">Frequency (Hz)</label>
                            <input type="range" id="toneFrequency" class="range-slider" min="20" max="20000" value="440" step="1">
                            <div style="display: flex; justify-content: space-between; font-size: 0.9rem; color: var(--text-muted);">
                                <span>20 Hz</span>
                                <span>20,000 Hz</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="toneVolume" class="form-label">Volume</label>
                            <input type="range" id="toneVolume" class="range-slider" min="0" max="100" value="50" step="1">
                        </div>
                    </div>
                    
                    <div class="tone-buttons">
                        <button class="tone-btn" data-freq="220">220 Hz</button>
                        <button class="tone-btn" data-freq="440">440 Hz</button>
                        <button class="tone-btn" data-freq="880">880 Hz</button>
                        <button class="tone-btn" data-freq="1000">1 kHz</button>
                        <button class="tone-btn" data-freq="2000">2 kHz</button>
                        <button class="tone-btn" data-freq="5000">5 kHz</button>
                    </div>
                    
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button id="playToneBtn" class="qr-scanner-btn">▶️ Play Tone</button>
                        <button id="stopToneBtn" class="qr-scanner-btn" disabled>⏹️ Stop Tone</button>
                    </div>
                </div>

                <!-- Whiteboard -->
                <div class="whiteboard-container">
                    <div class="qr-scanner-header">
                        <h2 class="qr-scanner-title">📝 Digital Whiteboard</h2>
                        <p class="qr-scanner-subtitle">Draw, write, and create with digital tools</p>
                    </div>
                    
                    <div class="whiteboard-toolbar">
                        <button class="tool-btn active" data-tool="pen">✏️ Pen</button>
                        <button class="tool-btn" data-tool="eraser">🧹 Eraser</button>
                        <button class="tool-btn" data-tool="line">📏 Line</button>
                        <button class="tool-btn" data-tool="rectangle">⬜ Rectangle</button>
                        <button class="tool-btn" data-tool="circle">⭕ Circle</button>
                        <button class="tool-btn" data-tool="text">📝 Text</button>
                        
                        <input type="color" id="colorPicker" class="color-picker" value="#000000">
                        
                        <label for="brushSize" style="color: var(--text-light);">Size:</label>
                        <input type="range" id="brushSize" class="size-slider" min="1" max="50" value="5">
                        
                        <button id="clearWhiteboard" class="tool-btn">🗑️ Clear</button>
                        <button id="downloadWhiteboard" class="tool-btn">💾 Save</button>
                    </div>
                    
                    <canvas id="whiteboard"></canvas>
                </div>

                <!-- Browser Editor -->
                <div class="browser-editor-container">
                    <div class="qr-scanner-header">
                        <h2 class="qr-scanner-title">🌐 Browser Editor</h2>
                        <p class="qr-scanner-subtitle">Browse websites and edit text content</p>
                    </div>
                    
                    <div class="browser-toolbar">
                        <input type="text" id="browserUrl" class="browser-address-bar" placeholder="Enter URL (e.g., https://google.com)" value="https://google.com">
                        <button id="loadUrlBtn" class="browser-btn">🌐 Load</button>
                        <button id="editModeBtn" class="browser-btn">✏️ Edit Mode</button>
                    </div>
                    
                    <div style="position: relative;">
                        <iframe id="browser-iframe" src="https://google.com"></iframe>
                        <div id="editModeIndicator" class="edit-mode-indicator">Edit Mode: ON</div>
                    </div>
                </div>

                <div class="tools-grid">
                    <div class="tool-card" onclick="openTool('imageResize')">
                        <span class="tool-icon">📐</span>
                        <h3 class="tool-title">Image Resize</h3>
                        <p class="tool-description">Resize images to any dimensions while maintaining quality</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('imageConverter')">
                        <span class="tool-icon">🔄</span>
                        <h3 class="tool-title">Image Converter</h3>
                        <p class="tool-description">Convert between different image formats (JPG, PNG, WebP, etc.)</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('qrGenerator')">
                        <span class="tool-icon">📱</span>
                        <h3 class="tool-title">QR Code Generator</h3>
                        <p class="tool-description">Create QR codes for URLs, text, or contact information</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('weatherCheck')">
                        <span class="tool-icon">🌤️</span>
                        <h3 class="tool-title">Weather Check</h3>
                        <p class="tool-description">Get current weather information for any city</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('ipDetector')">
                        <span class="tool-icon">🌐</span>
                        <h3 class="tool-title">IP Detector</h3>
                        <p class="tool-description">Get detailed information about any IP address</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('randomImage')">
                        <span class="tool-icon">🎲</span>
                        <h3 class="tool-title">Random Image</h3>
                        <p class="tool-description">Generate random images for inspiration or placeholders</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('calculator')">
                        <span class="tool-icon">🧮</span>
                        <h3 class="tool-title">Calculator</h3>
                        <p class="tool-description">Advanced calculator with scientific functions</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('hashConverter')">
                        <span class="tool-icon">🔐</span>
                        <h3 class="tool-title">Hash Converter</h3>
                        <p class="tool-description">Generate hashes with various algorithms and salt options</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('binaryConverter')">
                        <span class="tool-icon">💻</span>
                        <h3 class="tool-title">Binary Converter</h3>
                        <p class="tool-description">Convert between binary, decimal, hex, and octal</p>
                    </div>
                    
                    <div class="tool-card" onclick="openTool('passwordGenerator')">
                        <span class="tool-icon">🔑</span>
                        <h3 class="tool-title">Password Generator</h3>
                        <p class="tool-description">Generate secure passwords with custom options</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p class="footer-text">
                Created with ❤️ by <span class="lnd-signature">LND</span> | 
                © 2024 LND Multi-Tool Suite | 
                <span class="lnd-signature">AI-Powered Excellence</span>
            </p>
        </footer>
    </div>

    <!-- Chatbot Widget -->
    <button class="chatbot-toggle" id="chatbotToggle" onclick="toggleChatbot()">💬</button>
    
    <div class="chatbot-window" id="chatbotWindow">
        <div class="chatbot-header">
            <div class="chatbot-title">🤖 AI Assistant</div>
            <select class="chat-model-select" id="chatModelSelect" onchange="changeChatModel()">
                <option value="pollinations">Pollinations AI</option>
                <option value="gemini">Google Gemini</option>
                <option value="deepseek">DeepSeek R1</option>
            </select>
            <button class="chatbot-close" onclick="toggleChatbot()">✕</button>
        </div>
        
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chat-message bot-message">
                <div class="message-avatar">🤖</div>
                <div class="message-content">
                    Hello! I'm your AI assistant. I can help you with creative ideas, answer questions, or just chat. How can I assist you today?
                </div>
            </div>
        </div>
        
        <div class="chatbot-input-area">
            <div class="chat-input-container">
                <textarea 
                    class="chat-input" 
                    id="chatInput" 
                    placeholder="Type your message..."
                    rows="1"
                    onkeypress="handleChatKeyPress(event)"
                ></textarea>
                <button class="chat-send-btn" onclick="sendMessage()">➤</button>
            </div>
            
            <div class="form-group" style="margin-top: 15px; margin-bottom: 0;">
                <label class="checkbox-label">
                    <input type="checkbox" id="keepChatOpen" checked>
                    <span class="checkmark"></span>
                    Keep chat open by default
                </label>
                
                <label class="checkbox-label" style="margin-left: 15px;">
                    <input type="checkbox" id="keepContext" checked>
                    <span class="checkmark"></span>
                    Keep context
                </label>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let html5QrCode = null;
        let currentChatModel = 'pollinations';
        let isGenerating = false;
        let generatedImages = [];
        let generatedAudio = [];
        let chatHistory = [];
        let currentCameraId = null;
        let cameras = [];
        let currentCameraIndex = 0;
        
        // Tone generator variables
        let audioContext = null;
        let oscillator = null;
        let gainNode = null;
        let isPlaying = false;
        
        // Whiteboard variables
        let canvas = null;
        let ctx = null;
        let isDrawing = false;
        let currentTool = 'pen';
        let currentColor = '#000000';
        let currentSize = 5;
        let startX = 0;
        let startY = 0;
        
        // Browser editor variables
        let isEditMode = false;

        // API Keys
        const GEMINI_API_KEY = 'AIzaSyC1AGmqb60CGMLK8QqH9phziNS24HuK-5Y';
        const DEEPSEEK_API_KEY = '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';

        // Initialize particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all sections
            document.querySelectorAll('.tool-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Text to Image Generation with Sequential Display
        document.getElementById('imageForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (isGenerating) return;
            
            const prompt = document.getElementById('prompt').value;
            const imageCount = parseInt(document.getElementById('imageCount').value);
            const style = document.getElementById('style').value;
            const quality = document.getElementById('quality').value;
            const apiProvider = document.getElementById('apiProvider').value;
            
            const generateBtn = document.getElementById('generateBtn');
            const resultsContainer = document.getElementById('resultsContainer');
            const resultsCount = document.getElementById('resultsCount');
            
            isGenerating = true;
            generateBtn.disabled = true;
            generateBtn.innerHTML = '<span class="btn-icon">⏳</span> Generating...';
            
            // Clear previous results
            resultsContainer.innerHTML = '';
            generatedImages = [];
            
            // Create image grid
            const imageGrid = document.createElement('div');
            imageGrid.className = 'image-grid';
            resultsContainer.appendChild(imageGrid);
            
            // Build enhanced prompt
            let enhancedPrompt = prompt;
            if (style) enhancedPrompt += `, ${style} style`;
            if (quality) enhancedPrompt += `, ${quality} quality`;
            
            // Generate images one by one
            for (let i = 0; i < imageCount; i++) {
                resultsCount.textContent = `${i}/${imageCount} Images`;
                
                try {
                    const imageData = await generateSingleImage(enhancedPrompt, apiProvider, i);
                    
                    if (imageData) {
                        generatedImages.push(imageData);
                        
                        // Create image card
                        const imageCard = document.createElement('div');
                        imageCard.className = 'image-card';
                        
                        imageCard.innerHTML = `
                            <div class="image-container">
                                <img src="${imageData.url}" alt="Generated Image ${i + 1}" class="generated-image" loading="lazy">
                                <div class="image-overlay">
                                    <button class="download-btn" onclick="downloadImage('${imageData.url}', 'generated-image-${i + 1}')">
                                        ⬇️ Download
                                    </button>
                                </div>
                            </div>
                            <div class="image-info">
                                <div class="image-source">🎨 ${imageData.provider}</div>
                                <div class="image-prompt">${imageData.prompt}</div>
                            </div>
                        `;
                        
                        imageGrid.appendChild(imageCard);
                    }
                } catch (error) {
                    console.error(`Error generating image ${i + 1}:`, error);
                }
                
                // Small delay between requests
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            resultsCount.textContent = `${generatedImages.length}/${imageCount} Images`;
            
            // Show message if no images were generated
            if (generatedImages.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">😔</div>
                        <div class="empty-text">No Images Generated</div>
                        <div class="empty-subtext">Please try again with a different prompt</div>
                    </div>
                `;
            }
            
            isGenerating = false;
            generateBtn.disabled = false;
            generateBtn.innerHTML = '<span class="btn-icon">🚀</span> Generate Masterpiece';
        });

        async function generateSingleImage(prompt, apiProvider, index) {
            const providers = [
                'pollinations', 'deepai', 'huggingface', 'modelslab', 'replicate',
                'perchance', 'raphaelai', 'venice', 'nastia', 'vadoo', 'flux',
                'stablediffusion', 'aiscribble', 'nsfwai', 'dynapictures', 'gemini',
                'sexyai', 'pornpen', 'soulgen', 'dreamgf', 'icegirls'
            ];
            
            const selectedProvider = apiProvider === 'random' 
                ? providers[Math.floor(Math.random() * providers.length)]
                : apiProvider;
            
            // For demo purposes, we'll use Pollinations API as it's free and doesn't require auth
            const imageUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?width=512&height=512&nologo=true&seed=${Date.now() + index}`;
            
            return {
                url: imageUrl,
                prompt: prompt,
                provider: selectedProvider,
                index: index
            };
        }

        function downloadImage(url, filename) {
            const link = document.createElement('a');
            link.href = url;
            link.download = `${filename}.jpg`;
            link.target = '_blank';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Web Scraping Functionality
        document.getElementById('scrapeForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const keyword = document.getElementById('scrapeKeyword').value;
            const count = parseInt(document.getElementById('scrapeCount').value);
            const quality = document.getElementById('scrapeQuality').value;
            
            const scrapBtn = document.getElementById('scrapBtn');
            const scrapResultsContainer = document.getElementById('scrapResultsContainer');
            const scrapResultsCount = document.getElementById('scrapResultsCount');
            
            scrapBtn.disabled = true;
            scrapBtn.innerHTML = '<span class="btn-icon">⏳</span> Scraping...';
            
            scrapResultsContainer.innerHTML = `
                <div class="loading-container">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Scraping Images</div>
                    <div class="loading-subtext">Finding ${count} ${quality} quality images for "${keyword}"...</div>
                </div>
            `;
            
            try {
                // Simulate web scraping with Unsplash API
                const images = [];
                
                for (let i = 0; i < Math.min(count, 50); i++) {
                    const imageUrl = `https://source.unsplash.com/featured/?${encodeURIComponent(keyword)}&sig=${Date.now() + i}`;
                    images.push({
                        url: imageUrl,
                        keyword: keyword,
                        quality: quality
                    });
                }
                
                displayScrapedImages(images, count);
                
            } catch (error) {
                console.error('Error scraping images:', error);
                scrapResultsContainer.innerHTML = `
                    <div class="error-message">
                        <span>❌ Error scraping images. Please try again.</span>
                        <button class="reload-btn" onclick="location.reload()">Reload Page</button>
                    </div>
                `;
            } finally {
                scrapBtn.disabled = false;
                scrapBtn.innerHTML = '<span class="btn-icon">🔍</span> Start Web Scraping';
            }
        });

        function displayScrapedImages(images, totalCount) {
            const scrapResultsContainer = document.getElementById('scrapResultsContainer');
            const scrapResultsCount = document.getElementById('scrapResultsCount');
            const downloadZipBtn = document.getElementById('downloadZipBtn');
            
            scrapResultsCount.textContent = `${Math.min(images.length, 6)} of ${totalCount} Images`;
            
            if (images.length === 0) {
                scrapResultsContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">😔</div>
                        <div class="empty-text">No Images Found</div>
                        <div class="empty-subtext">Try a different keyword</div>
                    </div>
                `;
                return;
            }
            
            const imageGrid = document.createElement('div');
            imageGrid.className = 'image-grid';
            
            // Display only first 6 images
            const displayImages = images.slice(0, 6);
            
            displayImages.forEach((imageData, index) => {
                const imageCard = document.createElement('div');
                imageCard.className = 'image-card';
                
                imageCard.innerHTML = `
                    <div class="image-container">
                        <img src="${imageData.url}" alt="Scraped Image ${index + 1}" class="generated-image" loading="lazy">
                        <div class="image-overlay">
                            <button class="download-btn" onclick="downloadImage('${imageData.url}', 'scraped-${imageData.keyword}-${index + 1}')">
                                ⬇️ Download
                            </button>
                        </div>
                    </div>
                    <div class="image-info">
                        <div class="image-source">🔍 ${imageData.keyword}</div>
                        <div class="image-prompt">Quality: ${imageData.quality}</div>
                    </div>
                `;
                
                imageGrid.appendChild(imageCard);
            });
            
            scrapResultsContainer.innerHTML = '';
            scrapResultsContainer.appendChild(imageGrid);
            
            // Show download ZIP button if there are more images
            if (images.length > 6) {
                downloadZipBtn.style.display = 'block';
                downloadZipBtn.onclick = () => downloadAllImages(images);
            }
        }

        function downloadAllImages(images) {
            // This would require a server-side implementation for ZIP creation
            alert('ZIP download feature requires server-side implementation. Individual downloads are available.');
        }

        // Text to Speech Functionality
        document.getElementById('ttsForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const text = document.getElementById('ttsText').value;
            const voice = document.getElementById('ttsVoice').value;
            const speed = parseFloat(document.getElementById('ttsSpeed').value);
            const engine = document.getElementById('ttsEngine').value;
            const format = document.getElementById('ttsFormat').value;
            
            const ttsBtn = document.getElementById('ttsBtn');
            const ttsResultsContainer = document.getElementById('ttsResultsContainer');
            const ttsResultsCount = document.getElementById('ttsResultsCount');
            
            ttsBtn.disabled = true;
            ttsBtn.innerHTML = '<span class="btn-icon">⏳</span> Generating...';
            
            ttsResultsContainer.innerHTML = `
                <div class="loading-container">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Generating Speech</div>
                    <div class="loading-subtext">Converting text to ${format.toUpperCase()} audio...</div>
                </div>
            `;
            
            try {
                const audioData = await generateSpeech(text, voice, speed, engine, format);
                generatedAudio.push(audioData);
                displayGeneratedAudio();
                
            } catch (error) {
                console.error('Error generating speech:', error);
                ttsResultsContainer.innerHTML = `
                    <div class="error-message">
                        <span>❌ Error generating speech. Please try again.</span>
                        <button class="reload-btn" onclick="location.reload()">Reload Page</button>
                    </div>
                `;
            } finally {
                ttsBtn.disabled = false;
                ttsBtn.innerHTML = '<span class="btn-icon">🔊</span> Generate Speech';
            }
        });

        async function generateSpeech(text, voice, speed, engine, format) {
            // Voice mapping for different TTS services
            const voiceMap = {
                'en-US-female': { lang: 'en-US', name: 'Google US English Female', tl: 'en', voice: 'en-US-Wavenet-F' },
                'en-US-male': { lang: 'en-US', name: 'Google US English Male', tl: 'en', voice: 'en-US-Wavenet-M' },
                'en-GB-female': { lang: 'en-GB', name: 'Google UK English Female', tl: 'en-GB', voice: 'en-GB-Wavenet-F' },
                'en-GB-male': { lang: 'en-GB', name: 'Google UK English Male', tl: 'en-GB', voice: 'en-GB-Wavenet-M' },
                'en-US-child': { lang: 'en-US', name: 'Google US English Child', tl: 'en', voice: 'en-US-Wavenet-C' },
                'hi-IN-female': { lang: 'hi-IN', name: 'Google Hindi Female', tl: 'hi', voice: 'hi-IN-Wavenet-F' },
                'hi-IN-male': { lang: 'hi-IN', name: 'Google Hindi Male', tl: 'hi', voice: 'hi-IN-Wavenet-M' },
                'en-IN-female': { lang: 'en-IN', name: 'Google Indian English Female', tl: 'en', voice: 'en-IN-Wavenet-F' },
                'en-IN-male': { lang: 'en-IN', name: 'Google Indian English Male', tl: 'en', voice: 'en-IN-Wavenet-M' },
                'es-ES-female': { lang: 'es-ES', name: 'Google Spanish Female', tl: 'es', voice: 'es-ES-Wavenet-F' },
                'fr-FR-female': { lang: 'fr-FR', name: 'Google French Female', tl: 'fr', voice: 'fr-FR-Wavenet-F' },
                'de-DE-male': { lang: 'de-DE', name: 'Google German Male', tl: 'de', voice: 'de-DE-Wavenet-M' },
                'it-IT-female': { lang: 'it-IT', name: 'Google Italian Female', tl: 'it', voice: 'it-IT-Wavenet-F' },
                'pt-BR-female': { lang: 'pt-BR', name: 'Google Portuguese Female', tl: 'pt-BR', voice: 'pt-BR-Wavenet-F' },
                'ru-RU-female': { lang: 'ru-RU', name: 'Google Russian Female', tl: 'ru', voice: 'ru-RU-Wavenet-F' },
                'ja-JP-female': { lang: 'ja-JP', name: 'Google Japanese Female', tl: 'ja', voice: 'ja-JP-Wavenet-F' },
                'ko-KR-female': { lang: 'ko-KR', name: 'Google Korean Female', tl: 'ko', voice: 'ko-KR-Wavenet-F' },
                'zh-CN-female': { lang: 'zh-CN', name: 'Google Chinese Female', tl: 'zh-CN', voice: 'zh-CN-Wavenet-F' },
                'ar-SA-female': { lang: 'ar-SA', name: 'Google Arabic Female', tl: 'ar', voice: 'ar-XA-Wavenet-F' }
            };
            
            const voiceConfig = voiceMap[voice] || voiceMap['en-US-female'];
            
            if (engine === 'offline') {
                // Use Web Speech API for offline TTS
                return new Promise((resolve, reject) => {
                    if ('speechSynthesis' in window) {
                        const utterance = new SpeechSynthesisUtterance(text);
                        utterance.lang = voiceConfig.lang;
                        utterance.rate = speed;
                        
                        utterance.onend = () => {
                            resolve({
                                text: text,
                                voice: voice,
                                speed: speed,
                                engine: engine,
                                format: format,
                                audioUrl: null,
                                blob: null
                            });
                        };
                        
                        utterance.onerror = (error) => {
                            reject(error);
                        };
                        
                        speechSynthesis.speak(utterance);
                    } else {
                        reject(new Error('Speech synthesis not supported'));
                    }
                });
            } else {
                // Use Google Cloud Text-to-Speech API (free tier)
                try {
                    // Create a unique URL for each request to avoid caching issues
                    const timestamp = new Date().getTime();
                    const ttsUrl = `https://texttospeech.googleapis.com/v1/text:synthesize?key=${GEMINI_API_KEY}`;
                    
                    const response = await fetch(ttsUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            input: {
                                text: text
                            },
                            voice: {
                                languageCode: voiceConfig.lang,
                                name: voiceConfig.voice
                            },
                            audioConfig: {
                                audioEncoding: format === 'mp3' ? 'MP3' : 'LINEAR16',
                                speakingRate: speed
                            }
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (data.audioContent) {
                        // Convert base64 to blob
                        const byteCharacters = atob(data.audioContent);
                        const byteNumbers = new Array(byteCharacters.length);
                        for (let i = 0; i < byteCharacters.length; i++) {
                            byteNumbers[i] = byteCharacters.charCodeAt(i);
                        }
                        const byteArray = new Uint8Array(byteNumbers);
                        const blob = new Blob([byteArray], { type: `audio/${format}` });
                        const audioUrl = URL.createObjectURL(blob);
                        
                        return {
                            text: text,
                            voice: voice,
                            speed: speed,
                            engine: engine,
                            format: format,
                            audioUrl: audioUrl,
                            blob: blob
                        };
                    } else {
                        throw new Error('No audio content returned');
                    }
                } catch (error) {
                    console.error('Error with Google TTS:', error);
                    // Fallback to Web Speech API
                    return generateSpeech(text, voice, speed, 'offline', format);
                }
            }
        }

        function displayGeneratedAudio() {
            const ttsResultsContainer = document.getElementById('ttsResultsContainer');
            const ttsResultsCount = document.getElementById('ttsResultsCount');
            
            ttsResultsCount.textContent = `${generatedAudio.length} Audio Files`;
            
            if (generatedAudio.length === 0) {
                ttsResultsContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">😔</div>
                        <div class="empty-text">No Audio Generated</div>
                        <div class="empty-subtext">Please try again with different text</div>
                    </div>
                `;
                return;
            }
            
            const audioContainer = document.createElement('div');
            audioContainer.style.display = 'flex';
            audioContainer.style.flexDirection = 'column';
            audioContainer.style.gap = '20px';
            
            generatedAudio.forEach((audioData, index) => {
                const audioCard = document.createElement('div');
                audioCard.className = 'audio-player';
                
                const audioElement = audioData.audioUrl ? 
                    `<audio controls style="width: 100%; margin-bottom: 15px;">
                        <source src="${audioData.audioUrl}" type="audio/${audioData.format}">
                        Your browser does not support the audio element.
                    </audio>` :
                    `<div style="text-align: center; padding: 20px; background: rgba(0,0,0,0.3); border-radius: 10px; margin-bottom: 15px;">
                        🔊 Audio played using browser speech synthesis
                    </div>`;
                
                audioCard.innerHTML = `
                    ${audioElement}
                    <div class="audio-info">
                        <div class="audio-voice">🎤 ${audioData.voice.replace('-', ' ')}</div>
                        <div class="audio-speed">⚡ Speed: ${audioData.speed}x</div>
                    </div>
                    <div class="audio-text">${audioData.text}</div>
                    <div style="margin-top: 15px;">
                        ${audioData.audioUrl ? 
                            `<button class="download-btn" onclick="downloadAudio('${audioData.audioUrl}', 'speech-${index + 1}', '${audioData.format}')">
                                ⬇️ Download ${audioData.format.toUpperCase()}
                            </button>` :
                            `<button class="download-btn" onclick="replaySpeech(${index})">
                                🔊 Replay Speech
                            </button>`
                        }
                    </div>
                `;
                
                audioContainer.appendChild(audioCard);
            });
            
            ttsResultsContainer.innerHTML = '';
            ttsResultsContainer.appendChild(audioContainer);
        }

        function downloadAudio(audioUrl, filename, format) {
            const link = document.createElement('a');
            link.href = audioUrl;
            link.download = `${filename}.${format}`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function replaySpeech(index) {
            const audioData = generatedAudio[index];
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(audioData.text);
                const voiceMap = {
                    'en-US-female': { lang: 'en-US' },
                    'en-US-male': { lang: 'en-US' },
                    'en-GB-female': { lang: 'en-GB' },
                    'en-GB-male': { lang: 'en-GB' },
                    'en-US-child': { lang: 'en-US' },
                    'hi-IN-female': { lang: 'hi-IN' },
                    'hi-IN-male': { lang: 'hi-IN' },
                    'en-IN-female': { lang: 'en-IN' },
                    'en-IN-male': { lang: 'en-IN' },
                    'es-ES-female': { lang: 'es-ES' },
                    'fr-FR-female': { lang: 'fr-FR' },
                    'de-DE-male': { lang: 'de-DE' },
                    'it-IT-female': { lang: 'it-IT' },
                    'pt-BR-female': { lang: 'pt-BR' },
                    'ru-RU-female': { lang: 'ru-RU' },
                    'ja-JP-female': { lang: 'ja-JP' },
                    'ko-KR-female': { lang: 'ko-KR' },
                    'zh-CN-female': { lang: 'zh-CN' },
                    'ar-SA-female': { lang: 'ar-SA' }
                };
                
                const voiceConfig = voiceMap[audioData.voice] || voiceMap['en-US-female'];
                utterance.lang = voiceConfig.lang;
                utterance.rate = audioData.speed;
                speechSynthesis.speak(utterance);
            }
        }

        // QR Code Scanner Functionality
        function initQRScanner() {
            const startScanBtn = document.getElementById('startScanBtn');
            const switchCameraBtn = document.getElementById('switchCameraBtn');
            const uploadScanBtn = document.getElementById('uploadScanBtn');
            const stopScanBtn = document.getElementById('stopScanBtn');
            const qrReader = document.getElementById('qr-reader');
            const qrFileInput = document.getElementById('qrFileInput');
            
            startScanBtn.addEventListener('click', startCameraScan);
            switchCameraBtn.addEventListener('click', switchCamera);
            uploadScanBtn.addEventListener('click', () => qrFileInput.click());
            stopScanBtn.addEventListener('click', stopScanning);
            qrFileInput.addEventListener('change', handleFileUpload);
        }

        async function startCameraScan() {
            const qrReader = document.getElementById('qr-reader');
            const startScanBtn = document.getElementById('startScanBtn');
            const stopScanBtn = document.getElementById('stopScanBtn');
            const switchCameraBtn = document.getElementById('switchCameraBtn');
            
            try {
                // Get available cameras
                const devices = await Html5Qrcode.getCameras();
                cameras = devices;
                
                if (devices && devices.length) {
                    // Try to find the back camera first
                    currentCameraIndex = devices.findIndex(device => 
                        device.label.toLowerCase().includes('back') || 
                        device.label.toLowerCase().includes('rear')
                    );
                    
                    // If no back camera found, use the first camera
                    if (currentCameraIndex === -1) {
                        currentCameraIndex = 0;
                    }
                    
                    currentCameraId = devices[currentCameraIndex].id;
                    
                    html5QrCode = new Html5Qrcode("qr-reader");
                    
                    await html5QrCode.start(
                        currentCameraId,
                        {
                            fps: 10,
                            qrbox: { width: 250, height: 250 }
                        },
                        (decodedText, decodedResult) => {
                            handleQRResult(decodedText);
                        },
                        (errorMessage) => {
                            // Handle scan error silently
                        }
                    );
                    
                    qrReader.style.display = 'block';
                    startScanBtn.style.display = 'none';
                    stopScanBtn.style.display = 'inline-block';
                    
                    // Show camera controls if multiple cameras available
                    if (devices.length > 1) {
                        switchCameraBtn.style.display = 'inline-block';
                    }
                } else {
                    alert('No cameras found. Please use the upload option.');
                }
            } catch (err) {
                console.error('Unable to start scanning', err);
                alert('Unable to access camera. Please check permissions.');
            }
        }

        async function switchCamera() {
            if (!html5QrCode || cameras.length <= 1) return;
            
            try {
                // Stop current camera
                await html5QrCode.stop();
                
                // Switch to next camera
                currentCameraIndex = (currentCameraIndex + 1) % cameras.length;
                currentCameraId = cameras[currentCameraIndex].id;
                
                // Start with new camera
                await html5QrCode.start(
                    currentCameraId,
                    {
                        fps: 10,
                        qrbox: { width: 250, height: 250 }
                    },
                    (decodedText, decodedResult) => {
                        handleQRResult(decodedText);
                    },
                    (errorMessage) => {
                        // Handle scan error silently
                    }
                );
            } catch (err) {
                console.error('Error switching camera', err);
            }
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                html5QrCode = new Html5Qrcode("qr-reader");
                
                html5QrCode.scanFile(file, true).then(decodedText => {
                    handleQRResult(decodedText);
                }).catch(err => {
                    console.error('Error scanning file', err);
                    alert('No QR code found in the image.');
                });
            }
        }

        function handleQRResult(decodedText) {
            const resultDiv = document.getElementById('qr-scanner-result');
            const resultText = document.getElementById('qr-result-text');
            
            resultText.textContent = decodedText;
            resultDiv.style.display = 'block';
            
            // Auto-stop scanning after successful scan
            stopScanning();
        }

        function stopScanning() {
            const qrReader = document.getElementById('qr-reader');
            const startScanBtn = document.getElementById('startScanBtn');
            const stopScanBtn = document.getElementById('stopScanBtn');
            const switchCameraBtn = document.getElementById('switchCameraBtn');
            
            if (html5QrCode) {
                html5QrCode.stop().then(() => {
                    qrReader.style.display = 'none';
                    startScanBtn.style.display = 'inline-block';
                    stopScanBtn.style.display = 'none';
                    switchCameraBtn.style.display = 'none';
                }).catch(err => {
                    console.error('Unable to stop scanning', err);
                });
            }
        }

        // Copy QR result to clipboard
        document.getElementById('copyQrResult')?.addEventListener('click', function() {
            const resultText = document.getElementById('qr-result-text').textContent;
            navigator.clipboard.writeText(resultText).then(() => {
                this.textContent = '✅ Copied!';
                setTimeout(() => {
                    this.textContent = '📋 Copy Result';
                }, 2000);
            });
        });

        // Tone Generator Functionality
        function initToneGenerator() {
            const toneFrequency = document.getElementById('toneFrequency');
            const toneVolume = document.getElementById('toneVolume');
            const toneFrequencyDisplay = document.getElementById('toneFrequencyDisplay');
            const playToneBtn = document.getElementById('playToneBtn');
            const stopToneBtn = document.getElementById('stopToneBtn');
            const toneButtons = document.querySelectorAll('.tone-btn');
            
            // Update frequency display
            toneFrequency.addEventListener('input', function() {
                toneFrequencyDisplay.textContent = `${this.value} Hz`;
            });
            
            // Play/Stop buttons
            playToneBtn.addEventListener('click', playTone);
            stopToneBtn.addEventListener('click', stopTone);
            
            // Preset frequency buttons
            toneButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const freq = this.getAttribute('data-freq');
                    toneFrequency.value = freq;
                    toneFrequencyDisplay.textContent = `${freq} Hz`;
                });
            });
        }

        function playTone() {
            if (isPlaying) return;
            
            const frequency = parseFloat(document.getElementById('toneFrequency').value);
            const volume = parseFloat(document.getElementById('toneVolume').value) / 100;
            
            try {
                // Create audio context
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Create oscillator
                oscillator = audioContext.createOscillator();
                gainNode = audioContext.createGain();
                
                // Configure oscillator
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                
                // Configure gain
                gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
                
                // Connect nodes
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // Start playing
                oscillator.start();
                isPlaying = true;
                
                // Update UI
                document.getElementById('playToneBtn').disabled = true;
                document.getElementById('stopToneBtn').disabled = false;
                
            } catch (error) {
                console.error('Error playing tone:', error);
                alert('Unable to play tone. Please check your browser settings.');
            }
        }

        function stopTone() {
            if (!isPlaying || !oscillator) return;
            
            try {
                oscillator.stop();
                oscillator = null;
                
                if (audioContext) {
                    audioContext.close();
                    audioContext = null;
                }
                
                isPlaying = false;
                
                // Update UI
                document.getElementById('playToneBtn').disabled = false;
                document.getElementById('stopToneBtn').disabled = true;
                
            } catch (error) {
                console.error('Error stopping tone:', error);
            }
        }

        // Whiteboard Functionality
        function initWhiteboard() {
            canvas = document.getElementById('whiteboard');
            ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // Set initial styles
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            // Tool selection
            const toolButtons = document.querySelectorAll('.tool-btn[data-tool]');
            toolButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remove active class from all buttons
                    toolButtons.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked button
                    this.classList.add('active');
                    // Set current tool
                    currentTool = this.getAttribute('data-tool');
                });
            });
            
            // Color picker
            const colorPicker = document.getElementById('colorPicker');
            colorPicker.addEventListener('change', function() {
                currentColor = this.value;
            });
            
            // Brush size
            const brushSize = document.getElementById('brushSize');
            brushSize.addEventListener('input', function() {
                currentSize = this.value;
            });
            
            // Clear button
            document.getElementById('clearWhiteboard').addEventListener('click', clearWhiteboard);
            
            // Download button
            document.getElementById('downloadWhiteboard').addEventListener('click', downloadWhiteboard);
            
            // Mouse events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Touch events
            canvas.addEventListener('touchstart', handleTouch);
            canvas.addEventListener('touchmove', handleTouch);
            canvas.addEventListener('touchend', stopDrawing);
        }

        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            startX = e.clientX - rect.left;
            startY = e.clientY - rect.top;
            
            if (currentTool === 'pen' || currentTool === 'eraser') {
                ctx.beginPath();
                ctx.moveTo(startX, startY);
            }
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            ctx.lineWidth = currentSize;
            
            if (currentTool === 'pen') {
                ctx.globalCompositeOperation = 'source-over';
                ctx.strokeStyle = currentColor;
                ctx.lineTo(x, y);
                ctx.stroke();
            } else if (currentTool === 'eraser') {
                ctx.globalCompositeOperation = 'destination-out';
                ctx.lineTo(x, y);
                ctx.stroke();
            }
        }

        function stopDrawing(e) {
            if (!isDrawing) return;
            
            const rect = canvas.getBoundingClientRect();
            const endX = e.clientX - rect.left;
            const endY = e.clientY - rect.top;
            
            ctx.globalCompositeOperation = 'source-over';
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = currentSize;
            
            if (currentTool === 'line') {
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            } else if (currentTool === 'rectangle') {
                ctx.beginPath();
                ctx.rect(startX, startY, endX - startX, endY - startY);
                ctx.stroke();
            } else if (currentTool === 'circle') {
                const radius = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
                ctx.beginPath();
                ctx.arc(startX, startY, radius, 0, 2 * Math.PI);
                ctx.stroke();
            } else if (currentTool === 'text') {
                const text = prompt('Enter text:');
                if (text) {
                    ctx.font = `${currentSize * 3}px Arial`;
                    ctx.fillStyle = currentColor;
                    ctx.fillText(text, startX, startY);
                }
            }
            
            isDrawing = false;
        }

        function handleTouch(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 
                                            e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }

        function clearWhiteboard() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function downloadWhiteboard() {
            const link = document.createElement('a');
            link.download = 'whiteboard.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // Browser Editor Functionality
        function initBrowserEditor() {
            const browserUrl = document.getElementById('browserUrl');
            const loadUrlBtn = document.getElementById('loadUrlBtn');
            const editModeBtn = document.getElementById('editModeBtn');
            const browserIframe = document.getElementById('browser-iframe');
            const editModeIndicator = document.getElementById('editModeIndicator');
            
            loadUrlBtn.addEventListener('click', function() {
                const url = browserUrl.value;
                if (url) {
                    // Add https:// if not present
                    let fullUrl = url;
                    if (!url.startsWith('http://') && !url.startsWith('https://')) {
                        fullUrl = 'https://' + url;
                    }
                    browserIframe.src = fullUrl;
                }
            });
            
            editModeBtn.addEventListener('click', function() {
                isEditMode = !isEditMode;
                this.textContent = isEditMode ? '👁️ View Mode' : '✏️ Edit Mode';
                this.style.background = isEditMode ? 
                    'linear-gradient(135deg, #059669, #047857)' : 
                    'linear-gradient(135deg, var(--accent-purple), var(--light-purple))';
                editModeIndicator.classList.toggle('active', isEditMode);
                
                if (isEditMode) {
                    enableEditMode();
                } else {
                    disableEditMode();
                }
            });
            
            // Handle Enter key in URL input
            browserUrl.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    loadUrlBtn.click();
                }
            });
        }

        function enableEditMode() {
            const iframe = document.getElementById('browser-iframe');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            
            // Add click event listener to iframe
            iframe.addEventListener('load', function() {
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // Make all text elements editable
                const textElements = iframeDoc.querySelectorAll('p, span, h1, h2, h3, h4, h5, h6, li, td, th, a');
                textElements.forEach(element => {
                    element.contentEditable = true;
                    element.style.border = '1px dashed transparent';
                    element.style.padding = '2px';
                    
                    element.addEventListener('mouseenter', function() {
                        this.style.borderColor = '#8B5CF6';
                    });
                    
                    element.addEventListener('mouseleave', function() {
                        this.style.borderColor = 'transparent';
                    });
                });
            });
            
            // Reload iframe to apply changes
            const currentSrc = iframe.src;
            iframe.src = '';
            setTimeout(() => {
                iframe.src = currentSrc;
            }, 100);
        }

        function disableEditMode() {
            const iframe = document.getElementById('browser-iframe');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            
            // Remove contentEditable from all elements
            const textElements = iframeDoc.querySelectorAll('[contenteditable="true"]');
            textElements.forEach(element => {
                element.contentEditable = false;
                element.style.border = 'none';
                element.style.padding = '';
            });
        }

        // Chatbot Functionality
        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            chatbotWindow.classList.toggle('open');
        }

        function changeChatModel() {
            const select = document.getElementById('chatModelSelect');
            currentChatModel = select.value;
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        async function sendMessage() {
            const chatInput = document.getElementById('chatInput');
            const chatbotMessages = document.getElementById('chatbotMessages');
            const message = chatInput.value.trim();
            
            if (!message) return;
            
            // Add user message to history
            chatHistory.push({ role: 'user', content: message });
            
            // Add user message to UI
            const userMessageDiv = document.createElement('div');
            userMessageDiv.className = 'chat-message user-message';
            userMessageDiv.innerHTML = `
                <div class="message-avatar">👤</div>
                <div class="message-content">${message}</div>
            `;
            chatbotMessages.appendChild(userMessageDiv);
            
            chatInput.value = '';
            
            // Add loading indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'chat-message bot-message';
            loadingDiv.innerHTML = `
                <div class="message-avatar">🤖</div>
                <div class="message-content">🤔 Thinking...</div>
            `;
            chatbotMessages.appendChild(loadingDiv);
            
            // Scroll to bottom
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            
            try {
                const response = await getAIResponse(message, currentChatModel);
                
                // Add bot response to history
                chatHistory.push({ role: 'assistant', content: response });
                
                // Remove loading indicator
                loadingDiv.remove();
                
                // Add bot response
                const botMessageDiv = document.createElement('div');
                botMessageDiv.className = 'chat-message bot-message';
                botMessageDiv.innerHTML = `
                    <div class="message-avatar">🤖</div>
                    <div class="message-content">${response}</div>
                `;
                chatbotMessages.appendChild(botMessageDiv);
                
            } catch (error) {
                console.error('Error getting AI response:', error);
                loadingDiv.innerHTML = `
                    <div class="message-avatar">🤖</div>
                    <div class="message-content">❌ Sorry, I encountered an error. Please try again.</div>
                `;
            }
            
            // Scroll to bottom
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        async function getAIResponse(message, model) {
            const keepContext = document.getElementById('keepContext').checked;
            
            if (model === 'pollinations') {
                return await getPollinationsResponse(message, keepContext);
            } else if (model === 'gemini') {
                return await getGeminiResponse(message, keepContext);
            } else if (model === 'deepseek') {
                return await getDeepSeekResponse(message, keepContext);
            }
        }

        async function getPollinationsResponse(message, keepContext) {
            // Create context-aware prompt
            let contextPrompt = message;
            if (keepContext && chatHistory.length > 0) {
                const historyText = chatHistory.map(msg => 
                    `${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`
                ).join('\n');
                
                contextPrompt = `Previous conversation for context:\n${historyText}\n\nCurrent prompt to respond to: ${message}`;
            }
            
            // Using Pollinations API for text generation
            const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(contextPrompt)}`);
            if (!response.ok) {
                throw new Error('Pollinations API error');
            }
            return await response.text();
        }

        async function getGeminiResponse(message, keepContext) {
            // Create context-aware prompt
            let contextPrompt = message;
            if (keepContext && chatHistory.length > 0) {
                const historyText = chatHistory.map(msg => 
                    `${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`
                ).join('\n');
                
                contextPrompt = `Previous conversation for context:\n${historyText}\n\nCurrent prompt to respond to: ${message}`;
            }
            
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${GEMINI_API_KEY}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: contextPrompt
                        }]
                    }]
                })
            });
            
            const data = await response.json();
            
            if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                return data.candidates[0].content.parts[0].text;
            } else {
                throw new Error('Invalid response from Gemini API');
            }
        }

        async function getDeepSeekResponse(message, keepContext) {
            // Create context-aware prompt
            let contextPrompt = message;
            if (keepContext && chatHistory.length > 0) {
                const historyText = chatHistory.map(msg => 
                    `${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`
                ).join('\n');
                
                contextPrompt = `Previous conversation for context:\n${historyText}\n\nCurrent prompt to respond to: ${message}`;
            }
            
            const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${DEEPSEEK_API_KEY}`,
                    'HTTP-Referer': 'https://lndaihub.netlify.app/',
                    'X-Title': 'LND Multi-Tool Suite'
                },
                body: JSON.stringify({
                    model: 'deepseek/deepseek-r1:free',
                    messages: [{
                        role: 'user',
                        content: contextPrompt
                    }]
                })
            });
            
            const data = await response.json();
            
            if (data.choices && data.choices[0] && data.choices[0].message) {
                return data.choices[0].message.content;
            } else {
                throw new Error('Invalid response from DeepSeek API');
            }
        }

        // Tool opening functions
        function openTool(toolName) {
            // This would open specific tools - for demo purposes, we'll show alerts
            const toolMessages = {
                imageResize: 'Image Resize tool would open here with dimension controls.',
                imageConverter: 'Image Converter tool would open here with format selection.',
                qrGenerator: 'QR Code Generator tool would open here with text input.',
                weatherCheck: 'Weather Check tool would open here with city search.',
                ipDetector: 'IP Detector tool would open here with IP input.',
                randomImage: 'Random Image tool would open here with category selection.',
                calculator: 'Calculator tool would open here with full functionality.',
                hashConverter: 'Hash Converter tool would open here with algorithm selection.',
                binaryConverter: 'Binary Converter tool would open here with number systems.',
                passwordGenerator: 'Password Generator tool would open here with customization options.'
            };
            
            alert(toolMessages[toolName] || 'Tool would open here.');
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            initQRScanner();
            initToneGenerator();
            initWhiteboard();
            initBrowserEditor();
            
            // Auto-resize chat input
            const chatInput = document.getElementById('chatInput');
            chatInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 100) + 'px';
            });
            
            // Check if chat should be open by default
            const keepChatOpen = document.getElementById('keepChatOpen');
            if (keepChatOpen.checked) {
                document.getElementById('chatbotWindow').classList.add('open');
            }
            
            // Save preference
            keepChatOpen.addEventListener('change', function() {
                localStorage.setItem('keepChatOpen', this.checked);
            });
            
            // Load preference
            const savedPreference = localStorage.getItem('keepChatOpen');
            if (savedPreference !== null) {
                keepChatOpen.checked = savedPreference === 'true';
            }
        });

        // Handle window resize for responsive design
        window.addEventListener('resize', function() {
            // Resize canvas if whiteboard is initialized
            if (canvas) {
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
            }
        });
    </script>
</body>
</html>