<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-site-verification" content="d13Hh8m2coFjR-lHc63J8TJZSHc95Q5bJAxervsJEtk" />
    <link rel="shortcut icon" href="favicon.jpg" type="image/x-icon">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>LND Multi-Tool Suite | Free AI-Powered Creative & Utility Tools</title>
    <meta name="description" content="Your all-in-one suite of free AI-powered tools. Generate AI art, convert text to speech, and use 30+ utility tools—no sign-up required.">
    <meta name="keywords" content="AI tools, free AI generator, LND, LND AI, Ai, LND AI HUB, lndaihub, lnd ai hub, multi-tool suite, text to image AI, text to speech online, online utility tools, AI art generator, free text to image uncensored, web image scraper, QR code scanner online, tone generator, GPS location finder, notes saver, online to-do list, dice roller, coin toss, how to generate AI images for free, best free text to speech with download, online tools that save data, browser based utility tools, all in one creative suite, free developer tools online, IP address finder, currency converter tool, AI tools India, online utilities Rajasthan, creative AI tools for professionals India">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://lndaihub.netlify.app/" />

    <!-- Responsive -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Open Graph / Facebook (no image) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lndaihub.netlify.app/">
    <meta property="og:title" content="LND Multi-Tool Suite | Free AI-Powered Tools">
    <meta property="og:description" content="30+ free tools: AI art, TTS, QR scanners, notes, developer utilities. No login.">

    <!-- Twitter (no image) -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://lndaihub.netlify.app/">
    <meta name="twitter:title" content="LND Multi-Tool Suite | Free AI Tools">
    <meta name="twitter:description" content="All-in-one AI tool suite: generate art, speech, and use 30+ creative utilities—completely free.">

    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "WebApplication",
          "name": "LND Multi-Tool Suite",
          "url": "https://lndaihub.netlify.app/",
          "description": "All-in-one suite of free AI-powered creative and utility tools. Text-to-image, TTS, QR code scanner, and 30+ browser tools.",
          "applicationCategory": "UtilitiesApplication",
          "operatingSystem": "All",
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
          },
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "12000"
          }
        }
        </script>

    <!-- QR Scanner Library -->
    <script src="https://unpkg.com/html5-qrcode@2.0.9/dist/html5-qrcode.min.js"></script>
    <!-- PDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Additional Utility Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Professional Dark Purple & Black Palette */
            --primary-purple: #2D1B69;
            --secondary-purple: #4C1D95;
            --dark-purple: #1E1B4B;
            --light-purple: #6366F1;
            --accent-purple: #8B5CF6;
            --bg-black: #000000;
            --bg-dark: #0F0F23;
            --bg-darker: #0A0A1A;
            --text-light: #F8FAFC;
            --text-accent: #E2E8F0;
            --text-muted: #94A3B8;
            --glass-bg: rgba(45, 27, 105, 0.15);
            --glass-border: rgba(139, 92, 246, 0.3);
            --shadow-primary: rgba(45, 27, 105, 0.4);
            --shadow-accent: rgba(139, 92, 246, 0.2);
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: linear-gradient(135deg, var(--bg-black) 0%, var(--bg-darker) 20%, var(--dark-purple) 40%, var(--primary-purple) 60%, var(--secondary-purple) 80%, var(--dark-purple) 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            min-height: 100vh;
            color: var(--text-light);
            overflow-x: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        /* Enhanced Particle System */
        .cosmic-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--accent-purple);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite;
            box-shadow: 0 0 6px var(--accent-purple);
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(0.8); 
                opacity: 0.4; 
            }
            25% { 
                transform: translateY(-15px) rotate(90deg) scale(1.2); 
                opacity: 0.8; 
            }
            50% { 
                transform: translateY(-30px) rotate(180deg) scale(1); 
                opacity: 1; 
            }
            75% { 
                transform: translateY(-15px) rotate(270deg) scale(1.1); 
                opacity: 0.6; 
            }
        }

        /* Animated Background Overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(45, 27, 105, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(76, 29, 149, 0.05) 0%, transparent 50%);
            animation: backgroundPulse 15s ease-in-out infinite;
            z-index: 0;
        }

        @keyframes backgroundPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .container {
            position: relative;
            z-index: 2;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            padding: 50px 30px;
            margin-bottom: 40px;
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 25px;
            box-shadow: 
                0 25px 50px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(139, 92, 246, 0.1);
            position: relative;
            overflow: hidden;
            animation: headerGlow 3s ease-in-out infinite alternate;
        }

        @keyframes headerGlow {
            0% { box-shadow: 0 25px 50px var(--shadow-primary), inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 0 0 1px rgba(139, 92, 246, 0.1); }
            100% { box-shadow: 0 30px 60px var(--shadow-primary), inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 0 0 2px rgba(139, 92, 246, 0.2); }
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, var(--accent-purple), transparent);
            animation: rotate 12s linear infinite;
            opacity: 0.08;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            margin-bottom: 25px;
        }

        .logo-svg {
            width: 90px;
            height: 90px;
            filter: drop-shadow(0 0 25px var(--accent-purple));
            animation: logoFloat 4s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(5deg); }
        }

        .main-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2.8rem, 5vw, 4.5rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--text-light), var(--accent-purple), var(--light-purple), var(--text-light));
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: textGradient 4s ease-in-out infinite;
            text-shadow: 0 0 40px rgba(139, 92, 246, 0.3);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        @keyframes textGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            font-size: clamp(1.1rem, 2vw, 1.4rem);
            color: var(--text-accent);
            opacity: 0.9;
            font-weight: 400;
            letter-spacing: 1.5px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .credit-badge {
            position: absolute;
            top: 25px;
            right: 25px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.85rem;
            font-weight: 700;
            letter-spacing: 1px;
            box-shadow: 
                0 8px 20px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            animation: badgePulse 2s ease-in-out infinite;
        }

        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .nav-tab {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 15px 25px;
            color: var(--text-light);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-tab:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-color: var(--accent-purple);
            box-shadow: 0 10px 25px var(--shadow-primary);
        }

        .main-content {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr;
            gap: 35px;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }

        .tool-section {
            display: none;
        }

        .tool-section.active {
            display: block;
        }

        .control-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            animation: panelGlow 4s ease-in-out infinite alternate;
        }

        @keyframes panelGlow {
            0% { box-shadow: 0 20px 40px var(--shadow-primary), inset 0 1px 0 rgba(255, 255, 255, 0.1); }
            100% { box-shadow: 0 25px 50px var(--shadow-primary), inset 0 1px 0 rgba(255, 255, 255, 0.15); }
        }

        .control-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent-purple), transparent);
            border-radius: 20px 20px 0 0;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .form-group {
            margin-bottom: 35px;
        }

        .form-label {
            display: block;
            margin-bottom: 15px;
            font-weight: 700;
            color: var(--text-light);
            font-size: 1.15rem;
            letter-spacing: 0.5px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .prompt-container {
            position: relative;
        }

        .prompt-input {
            width: 100%;
            min-height: 130px;
            padding: 25px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            color: var(--text-light);
            font-size: 1.05rem;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .prompt-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 
                0 0 25px rgba(139, 92, 246, 0.4),
                inset 0 2px 10px rgba(0, 0, 0, 0.3);
            background: rgba(0, 0, 0, 0.6);
        }

        .prompt-input::placeholder {
            color: var(--text-muted);
            font-style: italic;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .select-wrapper {
            position: relative;
        }

        .custom-select {
            width: 100%;
            padding: 18px 25px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            color: var(--text-light);
            font-size: 1rem;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            appearance: none;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .custom-select:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 
                0 0 20px rgba(139, 92, 246, 0.3),
                inset 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .select-wrapper::after {
            content: '▼';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-purple);
            pointer-events: none;
            font-size: 0.9rem;
            animation: arrowFloat 2s ease-in-out infinite;
        }

        @keyframes arrowFloat {
            0%, 100% { transform: translateY(-50%); }
            50% { transform: translateY(-45%); }
        }

        .generate-btn {
            width: 100%;
            padding: 25px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple), var(--light-purple));
            background-size: 300% 300%;
            border: none;
            border-radius: 15px;
            color: var(--text-light);
            font-size: 1.3rem;
            font-weight: 800;
            font-family: 'Orbitron', monospace;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 15px 35px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: buttonPulse 3s ease-in-out infinite;
        }

        @keyframes buttonPulse {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 20px 45px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
            animation: buttonHover 1s ease infinite;
        }

        @keyframes buttonHover {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .generate-btn:active {
            transform: translateY(-1px);
        }

        .generate-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
            animation: none;
        }

        .btn-icon {
            margin-right: 12px;
            font-size: 1.5rem;
            animation: iconSpin 2s linear infinite;
        }

        @keyframes iconSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .results-section {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            min-height: 450px;
            display: flex;
            flex-direction: column;
            animation: panelGlow 4s ease-in-out infinite alternate;
        }

        .results-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 2px solid var(--glass-border);
        }

        .results-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.6rem;
            font-weight: 800;
            color: var(--text-light);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .results-count {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.95rem;
            font-weight: 700;
            box-shadow: 
                0 8px 20px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: countPulse 2s ease-in-out infinite;
        }

        @keyframes countPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
            flex: 1;
        }

        .image-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
            backdrop-filter: blur(15px);
            box-shadow: 0 10px 30px var(--shadow-primary);
        }

        .image-card:hover {
            transform: translateY(-8px);
            box-shadow: 
                0 20px 50px var(--shadow-primary),
                0 0 30px rgba(139, 92, 246, 0.3);
            border-color: var(--accent-purple);
        }

        .image-container {
            position: relative;
            overflow: hidden;
        }

        .generated-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .image-card:hover .generated-image {
            transform: scale(1.05);
        }

        .image-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(45, 27, 105, 0.8), rgba(139, 92, 246, 0.8));
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-card:hover .image-overlay {
            opacity: 1;
        }

        .download-btn {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            color: var(--text-light);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(139, 92, 246, 0.6);
        }

        .image-info {
            padding: 20px;
        }

        .image-source {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .image-prompt {
            font-size: 0.9rem;
            color: var(--text-accent);
            line-height: 1.4;
            margin-bottom: 15px;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 60px 20px;
            flex: 1;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.7;
        }

        .empty-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .empty-subtext {
            font-size: 1rem;
            color: var(--text-muted);
            max-width: 400px;
            line-height: 1.5;
        }

        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            flex: 1;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--glass-border);
            border-top: 4px solid var(--accent-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 25px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .loading-subtext {
            font-size: 1rem;
            color: var(--text-muted);
        }

        .error-message {
            background: rgba(220, 38, 38, 0.1);
            border: 2px solid rgba(220, 38, 38, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 15px;
            color: #FCA5A5;
        }

        .reload-btn {
            background: linear-gradient(135deg, #DC2626, #B91C1C);
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            color: white;
            font-weight: 700;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .reload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(220, 38, 38, 0.4);
        }

        .footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 2px solid var(--glass-border);
        }

        .footer-text {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        .lnd-signature {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: 1px;
        }

        /* Tools Grid for More Tools Section */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .tool-card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-purple);
            box-shadow: 0 15px 35px var(--shadow-primary);
        }

        .tool-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .tool-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .tool-description {
            font-size: 0.9rem;
            color: var(--text-muted);
            line-height: 1.4;
        }

        /* File Input Styling */
        .file-input-wrapper {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .file-input {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-input-label {
            display: block;
            padding: 18px 25px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            color: var(--text-light);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .file-input-label:hover {
            border-color: var(--accent-purple);
            background: rgba(0, 0, 0, 0.6);
        }

        /* Calculator Styles */
        .calc-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            color: var(--text-light);
            font-size: 1.1rem;
            font-weight: 600;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 50px;
        }

        .calc-btn:hover {
            transform: translateY(-2px);
            border-color: var(--accent-purple);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
        }

        .calc-btn:active {
            transform: translateY(0);
        }

        .calc-btn.operator {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            color: white;
            font-weight: 700;
        }

        .calc-btn.scientific {
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            font-size: 0.9rem;
        }

        .calculator-history {
            color: var(--text-muted);
        }

        .history-item {
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }

        .history-expression {
            color: var(--text-light);
        }

        .history-result {
            color: var(--accent-purple);
            font-weight: 600;
        }

        /* Checkbox Styles */
        .checkbox-label {
            display: flex;
            align-items: center;
            color: var(--text-light);
            font-size: 0.9rem;
            cursor: pointer;
            position: relative;
            padding-left: 35px;
            user-select: none;
        }

        .checkbox-label input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .checkmark {
            position: absolute;
            left: 0;
            height: 20px;
            width: 20px;
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .checkbox-label:hover .checkmark {
            border-color: var(--accent-purple);
        }

        .checkbox-label input:checked ~ .checkmark {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border-color: var(--accent-purple);
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        .checkbox-label input:checked ~ .checkmark:after {
            display: block;
        }

        .checkbox-label .checkmark:after {
            left: 6px;
            top: 2px;
            width: 6px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        /* Range Slider Styles */
        .range-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--glass-bg);
            outline: none;
            -webkit-appearance: none;
            margin: 15px 0;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 10px rgba(139, 92, 246, 0.3);
        }

        .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 10px rgba(139, 92, 246, 0.3);
        }

        /* Chatbot Styles */
        .chatbot-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
            color: white;
            font-size: 24px;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(139, 92, 246, 0.6);
        }

        .chatbot-window {
            position: fixed;
            bottom: 90px;
            left: 20px;
            width: 380px;
            height: 500px;
            background: var(--bg-darker);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            display: none;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            z-index: 1001;
            backdrop-filter: blur(20px);
            overflow: hidden;
        }

        .chatbot-window.open {
            display: flex;
        }

        .chatbot-header {
            padding: 15px 20px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-bottom: 2px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-title {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .chat-model-select {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            color: var(--text-light);
            padding: 6px 10px;
            font-size: 0.85rem;
            cursor: pointer;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            border-radius: 5px;
            transition: background 0.2s ease;
        }

        .chatbot-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-message {
            display: flex;
            gap: 12px;
            max-width: 85%;
        }

        .user-message {
            flex-direction: row-reverse;
            align-self: flex-end;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .bot-message .message-avatar {
            background: var(--accent-purple);
        }

        .user-message .message-avatar {
            background: var(--secondary-purple);
        }

        .message-content {
            background: var(--glass-bg);
            border-radius: 12px;
            padding: 12px 15px;
            line-height: 1.5;
            word-wrap: break-word;
            backdrop-filter: blur(10px);
        }

        .user-message .message-content {
            background: var(--primary-purple);
        }

        .chatbot-input-area {
            padding: 20px;
            border-top: 2px solid var(--glass-border);
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            background: var(--bg-dark);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            padding: 12px 15px;
            color: var(--text-light);
            resize: none;
            min-height: 20px;
            max-height: 100px;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
        }

        .chat-send-btn {
            background: var(--accent-purple);
            border: none;
            border-radius: 12px;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .chat-send-btn:hover {
            background: var(--light-purple);
            transform: translateY(-2px);
        }

        /* QR Scanner Styles */
        .qr-scanner-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .qr-scanner-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .qr-scanner-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            color: var(--accent-purple);
            margin-bottom: 10px;
        }

        .qr-scanner-subtitle {
            color: var(--text-muted);
            font-size: 1rem;
        }

        .qr-scanner-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .qr-scanner-btn {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .qr-scanner-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
        }

        .qr-scanner-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .qr-scanner-result {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            word-break: break-all;
        }

        .qr-scanner-result h4 {
            color: var(--accent-purple);
            margin-bottom: 10px;
        }

        .qr-scanner-result p {
            color: var(--text-light);
            line-height: 1.6;
        }

        #qr-reader {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            border-radius: 15px;
            overflow: hidden;
        }

        /* TTS Audio Player Styles */
        .audio-player {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .audio-player audio {
            width: 100%;
            margin-bottom: 15px;
        }

        .audio-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .audio-voice {
            font-weight: 600;
            color: var(--accent-purple);
        }

        .audio-speed {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .audio-text {
            color: var(--text-accent);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        /* Tone Generator Styles */
        .tone-generator-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .tone-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }

        .tone-frequency-display {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-purple);
            margin-bottom: 20px;
        }

        .tone-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .tone-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            padding: 15px;
            color: var(--text-light);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tone-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
        }

        .tone-btn.active {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border-color: var(--accent-purple);
        }

        /* Whiteboard Styles */
        .whiteboard-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .whiteboard-toolbar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .tool-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            padding: 10px 15px;
            color: var(--text-light);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tool-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
        }

        .tool-btn.active {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border-color: var(--accent-purple);
        }

        .color-picker {
            width: 40px;
            height: 40px;
            border: 2px solid var(--glass-border);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .color-picker:hover {
            transform: scale(1.1);
        }

        .size-slider {
            width: 150px;
        }

        #whiteboard {
            width: 100%;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: crosshair;
        }

        /* Browser Editor Styles */
        .browser-editor-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 45px;
            box-shadow: 
                0 20px 40px var(--shadow-primary),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .browser-toolbar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
        }

        .browser-address-bar {
            flex: 1;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--glass-border);
            border-radius: 25px;
            padding: 12px 20px;
            color: var(--text-light);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .browser-address-bar:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);
        }

        .browser-btn {
            background: linear-gradient(135deg, var(--accent-purple), var(--light-purple));
            border: none;
            border-radius: 10px;
            padding: 10px 15px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .browser-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
        }

        #browser-iframe {
            width: 100%;
            height: 500px;
            background: white;
            border-radius: 15px;
            border: none;
        }

        .edit-mode-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: none;
        }

        .edit-mode-indicator.active {
            display: block;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header {
                padding: 30px 20px;
                margin-bottom: 30px;
            }
            
            .logo-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .logo-svg {
                width: 60px;
                height: 60px;
            }
            
            .main-title {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .credit-badge {
                position: static;
                margin-top: 20px;
                display: inline-block;
            }
            
            .nav-tabs {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-tab {
                padding: 12px 20px;
                text-align: center;
            }
            
            .controls-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .control-panel,
            .results-section {
                padding: 25px;
            }
            
            .prompt-input {
                min-height: 110px;
                padding: 20px;
            }
            
            .generate-btn {
                padding: 20px;
                font-size: 1.1rem;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .image-grid {
                grid-template-columns: 1fr;
            }

            .chatbot-window {
                width: calc(100vw - 30px);
                height: 70vh;
                left: 15px;
                right: 15px;
            }

            .qr-scanner-controls {
                flex-direction: column;
                align-items: center;
            }

            .qr-scanner-btn {
                width: 100%;
                max-width: 300px;
            }

            .tone-buttons {
                grid-template-columns: repeat(3, 1fr);
            }

            .whiteboard-toolbar {
                justify-content: center;
            }

            .browser-toolbar {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Advanced Animations */
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-up {
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Enhanced Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-darker);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-radius: 5px;
            box-shadow: 0 0 10px var(--accent-purple);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--secondary-purple), var(--light-purple));
        }
    </style>
</head>
<body>
    <!-- Enhanced Cosmic Particles Background -->
    <div class="cosmic-particles" id="particles"></div>

    <div class="container">
        <!-- Header Section -->
        <header class="header fade-in">
            <div class="header-content">
                <div class="logo-container">
                    <!-- Enhanced SVG Logo -->
                    <svg class="logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#6366F1;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#2D1B69;stop-opacity:1" />
                            </linearGradient>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                                <feMerge> 
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        
                        <!-- Enhanced Neural Network Design -->
                        <circle cx="20" cy="30" r="5" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="0.4;1;0.4" dur="2.5s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="50" cy="20" r="6" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="1;0.4;1" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="80" cy="35" r="5" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="0.4;1;0.4" dur="2.2s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="30" cy="60" r="7" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="1;0.4;1" dur="2.8s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="70" cy="65" r="6" fill="url(#logoGradient)" filter="url(#glow)">
                            <animate attributeName="opacity" values="0.4;1;0.4" dur="3.2s" repeatCount="indefinite"/>
                        </circle>
                        
                        <!-- Enhanced Connecting Lines -->
                        <line x1="20" y1="30" x2="50" y2="20" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.3;0.9;0.3" dur="3.5s" repeatCount="indefinite"/>
                        </line>
                        <line x1="50" y1="20" x2="80" y2="35" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.9;0.3;0.9" dur="3s" repeatCount="indefinite"/>
                        </line>
                        <line x1="20" y1="30" x2="30" y2="60" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.3;0.9;0.3" dur="3.2s" repeatCount="indefinite"/>
                        </line>
                        <line x1="80" y1="35" x2="70" y2="65" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.9;0.3;0.9" dur="2.8s" repeatCount="indefinite"/>
                        </line>
                        <line x1="30" y1="60" x2="70" y2="65" stroke="url(#logoGradient)" stroke-width="3" opacity="0.7">
                            <animate attributeName="opacity" values="0.3;0.9;0.3" dur="3.8s" repeatCount="indefinite"/>
                        </line>
                        
                        <!-- Enhanced Central AI Brain -->
                        <circle cx="50" cy="50" r="10" fill="none" stroke="url(#logoGradient)" stroke-width="4" filter="url(#glow)">
                            <animate attributeName="r" values="10;14;10" dur="4.5s" repeatCount="indefinite"/>
                        </circle>
                        <text x="50" y="56" text-anchor="middle" fill="url(#logoGradient)" font-family="Orbitron" font-size="14" font-weight="bold">AI</text>
                    </svg>
                    
                    <div>
                        <h1 class="main-title">LND Multi-Tool Suite</h1>
                        <p class="subtitle">◆ AI-Powered Tools for Creative Professionals ◆</p>
                    </div>
                </div>
                <div class="credit-badge">Created by LND</div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('textToImage')">🎨 Text to Image</button>
            <button class="nav-tab" onclick="switchTab('webScrap')">🔍 Web-Scrap Images</button>
            <button class="nav-tab" onclick="switchTab('textToSpeech')">🔊 Text to Speech</button>
            <button class="nav-tab" onclick="switchTab('moreTools')">🛠️ More Tools</button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Text to Image Section -->
            <section id="textToImage" class="tool-section active">
                <div class="control-panel slide-up">
                    <form id="imageForm">
                        <div class="form-group">
                            <label for="prompt" class="form-label">✨ Describe Your Vision</label>
                            <div class="prompt-container">
                                <textarea 
                                    id="prompt" 
                                    class="prompt-input" 
                                    placeholder="Enter your creative prompt here... e.g., 'A majestic dragon soaring through a cyberpunk cityscape at sunset, neon lights reflecting off its scales, ultra-detailed, 8K resolution'"
                                    required
                                ></textarea>
                            </div>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="imageCount" class="form-label">🎯 Number of Images</label>
                                <div class="select-wrapper">
                                    <select id="imageCount" class="custom-select">
                                        <option value="1">1 Image</option>
                                        <option value="2">2 Images</option>
                                        <option value="3">3 Images</option>
                                        <option value="4">4 Images</option>
                                        <option value="5">5 Images</option>
                                        <option value="6">6 Images</option>
                                        <option value="10">10 Images</option>
                                        <option value="15">15 Images</option>
                                        <option value="20">20 Images</option>
                                        <option value="25">25 Images</option>
                                        <option value="30">30 Images</option>
                                        <option value="35">35 Images</option>
                                        <option value="40">40 Images</option>
                                        <option value="45">45 Images</option>
                                        <option value="50">50 Images</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="style" class="form-label">🎨 Art Style</label>
                                <div class="select-wrapper">
                                    <select id="style" class="custom-select">
                                        <option value="">Default</option>
                                        <option value="photorealistic">Photorealistic</option>
                                        <option value="digital art">Digital Art</option>
                                        <option value="oil painting">Oil Painting</option>
                                        <option value="watercolor">Watercolor</option>
                                        <option value="anime">Anime Style</option>
                                        <option value="cyberpunk">Cyberpunk</option>
                                        <option value="steampunk">Steampunk</option>
                                        <option value="fantasy art">Fantasy Art</option>
                                        <option value="abstract">Abstract</option>
                                        <option value="minimalist">Minimalist</option>
                                        <option value="vintage">Vintage</option>
                                        <option value="noir">Film Noir</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="quality" class="form-label">⚡ Quality Level</label>
                                <div class="select-wrapper">
                                    <select id="quality" class="custom-select">
                                        <option value="standard">Standard</option>
                                        <option value="high">High Quality</option>
                                        <option value="ultra">Ultra HD</option>
                                        <option value="masterpiece">Masterpiece</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="apiProvider" class="form-label">🔮 AI Engine</label>
                                <div class="select-wrapper">
                                    <select id="apiProvider" class="custom-select">
                                        <option value="random">🎲 Shuffle Random (Recommended)</option>
                                        <option value="pollinations">Pollinations AI</option>
                                        <option value="deepai">DeepAI Engine</option>
                                        <option value="huggingface">HuggingFace</option>
                                        <option value="modelslab">ModelsLab (Uncensored)</option>
                                        <option value="replicate">Replicate AI</option>
                                        <option value="perchance">Perchance AI (Uncensored)</option>
                                        <option value="raphaelai">Raphael AI (Unlimited)</option>
                                        <option value="venice">Venice AI (Uncensored)</option>
                                        <option value="nastia">Nastia AI (Uncensored)</option>
                                        <option value="vadoo">Vadoo AI (Unrestricted)</option>
                                        <option value="flux">FLUX.1 (Open Source)</option>
                                        <option value="stablediffusion">Stable Diffusion (Free)</option>
                                        <option value="aiscribble">AIScribble (Uncensored)</option>
                                        <option value="nsfwai">NSFW AI Generator (18+)</option>
                                        <option value="dynapictures">DynaPictures (Adult)</option>
                                        <option value="gemini">Gemini 2.0 Flash (Uncensored)</option>
                                        <option value="sexyai">SexyAI (18+ Content)</option>
                                        <option value="pornpen">PornPen AI (Adult)</option>
                                        <option value="soulgen">SoulGen (NSFW)</option>
                                        <option value="dreamgf">DreamGF AI (Adult)</option>
                                        <option value="icegirls">IceGirls AI (18+)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="generate-btn" id="generateBtn">
                            <span class="btn-icon">🚀</span>
                            Generate Masterpiece
                        </button>
                    </form>
                </div>

                <div class="results-section slide-up">
                    <div class="results-header">
                        <h2 class="results-title">◆ Generated Artworks ◆</h2>
                        <div class="results-count" id="resultsCount">0 Images</div>
                    </div>
                    
                    <div id="resultsContainer">
                        <div class="empty-state">
                            <div class="empty-icon">🎨</div>
                            <div class="empty-text">Ready to Create Magic</div>
                            <div class="empty-subtext">Enter your prompt above and let LND AI bring your imagination to life</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Web-Scrap Images Section -->
            <section id="webScrap" class="tool-section">
                <div class="control-panel slide-up">
                    <form id="scrapeForm">
                        <div class="form-group">
                            <label for="scrapeKeyword" class="form-label">🔍 Search Keyword</label>
                            <input type="text" id="scrapeKeyword" class="prompt-input" placeholder="Enter keyword to search for images... e.g., 'nature', 'technology', 'cats'" required>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="scrapeCount" class="form-label">📊 Number of Images</label>
                                <div class="select-wrapper">
                                    <select id="scrapeCount" class="custom-select">
                                        <option value="10">10 Images</option>
                                        <option value="20" selected>20 Images</option>
                                        <option value="50">50 Images</option>
                                        <option value="100">100 Images</option>
                                        <option value="200">200 Images</option>
                                        <option value="500">500 Images</option>
                                        <option value="1000">1000 Images</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="scrapeQuality" class="form-label">⚡ Image Quality</label>
                                <div class="select-wrapper">
                                    <select id="scrapeQuality" class="custom-select">
                                        <option value="medium">Medium Quality</option>
                                        <option value="high" selected>High Quality</option>
                                        <option value="original">Original Quality</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="generate-btn" id="scrapBtn">
                            <span class="btn-icon">🔍</span>
                            Start Web Scraping
                        </button>
                    </form>
                </div>

                <div class="results-section slide-up">
                    <div class="results-header">
                        <h2 class="results-title">◆ Web-Scraped Images (Max 6 Displayed) ◆</h2>
                        <div class="results-count" id="scrapResultsCount">0 Images</div>
                        <button id="downloadZipBtn" class="download-btn" style="display: none;">
                            📦 Download All ZIP
                        </button>
                    </div>
                    
                    <div id="scrapResultsContainer">
                        <div class="empty-state">
                            <div class="empty-icon">🔍</div>
                            <div class="empty-text">Ready for Web Scraping</div>
                            <div class="empty-subtext">Enter a keyword above and let LND scrape high-quality images from the web</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Text to Speech Section -->
            <section id="textToSpeech" class="tool-section">
                <div class="control-panel slide-up">
                    <form id="ttsForm">
                        <div class="form-group">
                            <label for="ttsText" class="form-label">📝 Enter Text to Convert</label>
                            <div class="prompt-container">
                                <textarea 
                                    id="ttsText" 
                                    class="prompt-input" 
                                    placeholder="Enter your text here for speech conversion..."
                                    required
                                ></textarea>
                            </div>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="ttsVoice" class="form-label">🎤 Voice Selection</label>
                                <div class="select-wrapper">
                                    <select id="ttsVoice" class="custom-select">
                                        <option value="Brian">Brian (English, UK)</option>
                                        <option value="Emma">Emma (English, UK)</option>
                                        <option value="Russell">Russell (English, AU)</option>
                                        <option value="Nicole">Nicole (English, AU)</option>
                                        <option value="Joey" selected>Joey (English, US)</option>
                                        <option value="Salli">Salli (English, US)</option>
                                        <option value="Matthew">Matthew (English, US)</option>
                                        <option value="Kimberly">Kimberly (English, US)</option>
                                        <option value="Justin">Justin (English, US)</option>
                                        <option value="Ivy">Ivy (English, US)</option>
                                        <option value="Joanna">Joanna (English, US)</option>
                                        <option value="Kendra">Kendra (English, US)</option>
                                        <option value="Aditi">Aditi (Hindi)</option>
                                        <option value="Enrique">Enrique (Spanish)</option>
                                        <option value="Geraint">Geraint (Welsh)</option>
                                        <option value="Hans">Hans (German)</option>
                                        <option value="Mizuki">Mizuki (Japanese)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="ttsSpeed" class="form-label">⚡ Speech Speed</label>
                                <div class="select-wrapper">
                                    <select id="ttsSpeed" class="custom-select">
                                        <option value="0.5">Very Slow</option>
                                        <option value="0.75">Slow</option>
                                        <option value="1.0" selected>Normal</option>
                                        <option value="1.25">Fast</option>
                                        <option value="1.5">Very Fast</option>
                                        <option value="2.0">Ultra Fast</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="ttsEngine" class="form-label">🔊 TTS Engine</label>
                                <div class="select-wrapper">
                                    <select id="ttsEngine" class="custom-select">
                                        <option value="google" selected>Google TTS (Recommended)</option>
                                        <option value="microsoft">Microsoft Azure</option>
                                        <option value="amazon">Amazon Polly</option>
                                        <option value="ibm">IBM Watson</option>
                                        <option value="offline">Offline Browser TTS</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="ttsFormat" class="form-label">📁 Audio Format</label>
                                <div class="select-wrapper">
                                    <select id="ttsFormat" class="custom-select">
                                        <option value="mp3" selected>MP3 (Recommended)</option>
                                        <option value="wav">WAV (High Quality)</option>
                                        <option value="ogg">OGG (Smaller Size)</option>
                                        <option value="aac">AAC (Apple Compatible)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="generate-btn" id="ttsBtn">
                            <span class="btn-icon">🔊</span>
                            Generate Speech
                        </button>
                    </form>
                </div>

                <div class="results-section slide-up">
                    <div class="results-header">
                        <h2 class="results-title">◆ Generated Speech ◆</h2>
                        <div class="results-count" id="ttsResultsCount">0 Audio Files</div>
                    </div>
                    
                    <div id="ttsResultsContainer">
                        <div class="empty-state">
                            <div class="empty-icon">🔊</div>
                            <div class="empty-text">Ready to Generate Speech</div>
                            <div class="empty-subtext">Enter your text above and convert it to natural-sounding speech with MP3 download</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- More Tools Section -->
            <section id="moreTools" class="tool-section">
                <div class="control-panel slide-up">
                    <h2 class="results-title" style="margin-bottom: 30px; text-align: center;">◆ Additional Tools ◆</h2>
                    <div class="tools-grid">
                        <div class="tool-card" onclick="selectTool('imageResize')">
                            <span class="tool-icon">📐</span>
                            <h3 class="tool-title">Image Resize</h3>
                            <p class="tool-description">Resize images to any dimensions while maintaining quality</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('imageConverter')">
                            <span class="tool-icon">🔄</span>
                            <h3 class="tool-title">Image Converter</h3>
                            <p class="tool-description">Convert between different image formats (JPG, PNG, WebP, etc.)</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('qrGenerator')">
                            <span class="tool-icon">📱</span>
                            <h3 class="tool-title">QR Code Generator</h3>
                            <p class="tool-description">Create QR codes for URLs, text, or contact information</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('weatherCheck')">
                            <span class="tool-icon">🌤️</span>
                            <h3 class="tool-title">Weather Check</h3>
                            <p class="tool-description">Get current weather information for any city</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('ipDetector')">
                            <span class="tool-icon">🌐</span>
                            <h3 class="tool-title">IP Detector</h3>
                            <p class="tool-description">Get detailed information about any IP address</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('randomImage')">
                            <span class="tool-icon">🎲</span>
                            <h3 class="tool-title">Random Image</h3>
                            <p class="tool-description">Generate random images for inspiration or placeholders</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('calculator')">
                            <span class="tool-icon">🧮</span>
                            <h3 class="tool-title">Calculator</h3>
                            <p class="tool-description">Advanced calculator with scientific functions</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('hashConverter')">
                            <span class="tool-icon">🔐</span>
                            <h3 class="tool-title">Hash Converter</h3>
                            <p class="tool-description">Generate hashes with various algorithms and salt options</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('binaryConverter')">
                            <span class="tool-icon">💻</span>
                            <h3 class="tool-title">Binary Converter</h3>
                            <p class="tool-description">Convert between binary, decimal, hex, and octal</p>
                        </div>

                        <div class="tool-card" onclick="selectTool('passwordGenerator')">
                            <span class="tool-icon">🔑</span>
                            <h3 class="tool-title">Password Generator</h3>
                            <p class="tool-description">Generate secure passwords with custom options</p>
                        </div>
                        <div class="tool-card" onclick="selectTool('qrScanner')">
                            <span class="tool-icon">📱</span>
                            <h3 class="tool-title">QR Code Scanner</h3>
                            <p class="tool-description">Scan QR codes using your camera or upload an image</p>
                        </div>
                        <div class="tool-card" onclick="selectTool('toneGenerator')">
                            <span class="tool-icon">🎵</span>
                            <h3 class="tool-title">Tone Generator</h3>
                            <p class="tool-description">Generate pure tones for testing and calibration</p>
                        </div>
                        <div class="tool-card" onclick="selectTool('whiteboard')">
                            <span class="tool-icon">📝</span>
                            <h3 class="tool-title">Digital Whiteboard</h3>
                            <p class="tool-description">Draw, write, and create with digital tools</p>
                        </div>
                        <div class="tool-card" onclick="selectTool('browserEditor')">
                            <span class="tool-icon">🌐</span>
                            <h3 class="tool-title">Browser Editor</h3>
                            <p class="tool-description">Browse websites and edit text content</p>
                        </div>
                    </div>
                </div>

                <!-- Individual Tool Interfaces (Hidden by default) -->
                <div id="qrScanner" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <div class="qr-scanner-container">
                            <div class="qr-scanner-header">
                                <h2 class="qr-scanner-title">📱 QR Code Scanner</h2>
                                <p class="qr-scanner-subtitle">Scan QR codes using your camera or upload an image</p>
                            </div>
                            <div class="qr-scanner-controls">
                                <button id="startScanBtn" class="qr-scanner-btn">📷 Start Camera Scan</button>
                                <button id="switchCameraBtn" class="qr-scanner-btn" style="display: none;">🔄 Switch Camera</button>
                                <button id="uploadScanBtn" class="qr-scanner-btn">📁 Upload Image</button>
                                <button id="stopScanBtn" class="qr-scanner-btn" style="display: none;">⏹️ Stop Scan</button>
                            </div>
                            <div id="qr-reader" style="display: none;"></div>
                            <div id="qr-scanner-result" class="qr-scanner-result" style="display: none;">
                                <h4>🔍 Scan Result:</h4>
                                <p id="qr-result-text"></p>
                                <button id="copyQrResult" class="download-btn">📋 Copy Result</button>
                            </div>
                            <input type="file" id="qrFileInput" accept="image/*" style="display: none;">
                        </div>
                    </div>
                </div>
                <div id="imageResize" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">Image Resize Tool</h3>

                        <div class="form-group">
                            <label class="form-label">Upload Image</label>
                            <div class="file-input-wrapper">
                                <input type="file" id="resizeImageInput" class="file-input" accept="image/*">
                                <label for="resizeImageInput" class="file-input-label">Choose Image File</label>
                            </div>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="resizeWidth" class="form-label">Width (px)</label>
                                <input type="number" id="resizeWidth" class="prompt-input" style="min-height: auto; padding: 15px;" placeholder="800" min="1">
                            </div>
                            <div class="form-group">
                                <label for="resizeHeight" class="form-label">Height (px)</label>
                                <input type="number" id="resizeHeight" class="prompt-input" style="min-height: auto; padding: 15px;" placeholder="600" min="1">
                            </div>
                        </div>

                        <button class="generate-btn" onclick="resizeImage()">
                            <span class="btn-icon">📐</span>
                            Resize Image
                        </button>

                        <div id="resizeResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <div id="imageConverter" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">Image Format Converter</h3>

                        <div class="form-group">
                            <label class="form-label">Upload Image</label>
                            <div class="file-input-wrapper">
                                <input type="file" id="convertImageInput" class="file-input" accept="image/*">
                                <label for="convertImageInput" class="file-input-label">Choose Image File</label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="convertFormat" class="form-label">Convert to Format</label>
                            <div class="select-wrapper">
                                <select id="convertFormat" class="custom-select">
                                    <option value="jpeg">JPEG</option>
                                    <option value="png">PNG</option>
                                    <option value="webp">WebP</option>
                                </select>
                            </div>
                        </div>

                        <button class="generate-btn" onclick="convertImage()">
                            <span class="btn-icon">🔄</span>
                            Convert Image
                        </button>

                        <div id="convertResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <div id="qrGenerator" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">QR Code Generator</h3>
                        
                        <div class="form-group">
                            <label for="qrText" class="form-label">Text or URL</label>
                            <textarea id="qrText" class="prompt-input" placeholder="Enter text, URL, or any data to encode..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="qrSize" class="form-label">QR Code Size</label>
                            <div class="select-wrapper">
                                <select id="qrSize" class="custom-select">
                                    <option value="200">200x200</option>
                                    <option value="300" selected>300x300</option>
                                    <option value="400">400x400</option>
                                    <option value="500">500x500</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="generate-btn" onclick="generateQR()">
                            <span class="btn-icon">📱</span>
                            Generate QR Code
                        </button>

                        <div id="qrResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <div id="weatherCheck" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">Weather Information</h3>

                        <div class="form-group">
                            <label for="cityName" class="form-label">City Name</label>
                            <input type="text" id="cityName" class="prompt-input" style="min-height: auto; padding: 15px;" placeholder="Enter city name...">
                        </div>

                        <button class="generate-btn" onclick="getWeather()">
                            <span class="btn-icon">🌤️</span>
                            Get Weather
                        </button>

                        <div id="weatherResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <div id="ipDetector" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">IP Address Information</h3>

                        <div class="form-group">
                            <label for="ipAddress" class="form-label">IP Address (leave empty for your IP)</label>
                            <input type="text" id="ipAddress" class="prompt-input" style="min-height: auto; padding: 15px;" placeholder="Enter IP address or leave empty...">
                        </div>

                        <button class="generate-btn" onclick="getIPInfo()">
                            <span class="btn-icon">🌐</span>
                            Get IP Information
                        </button>

                        <div id="ipResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <div id="randomImage" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">Random Image Generator</h3>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="randomCategory" class="form-label">Category</label>
                                <div class="select-wrapper">
                                    <select id="randomCategory" class="custom-select">
                                        <option value="">Any</option>
                                        <option value="nature">Nature</option>
                                        <option value="city">City</option>
                                        <option value="people">People</option>
                                        <option value="animals">Animals</option>
                                        <option value="food">Food</option>
                                        <option value="technology">Technology</option>
                                        <option value="abstract">Abstract</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="randomSize" class="form-label">Image Size</label>
                                <div class="select-wrapper">
                                    <select id="randomSize" class="custom-select">
                                        <option value="400x300">400x300</option>
                                        <option value="800x600" selected>800x600</option>
                                        <option value="1200x800">1200x800</option>
                                        <option value="1920x1080">1920x1080</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button class="generate-btn" onclick="generateRandomImage()">
                            <span class="btn-icon">🎲</span>
                            Generate Random Image
                        </button>

                        <div id="randomResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <!-- Calculator Tool Interface -->
                <div id="calculator" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">Advanced Calculator</h3>

                        <div class="calculator-container" style="max-width: 400px; margin: 0 auto;">
                            <div class="calculator-display">
                                <input type="text" id="calcDisplay" class="prompt-input" style="min-height: auto; padding: 20px; font-size: 1.5rem; text-align: right; font-family: 'Courier New', monospace;" readonly>
                            </div>

                            <div class="calculator-buttons" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 20px;">
                                <!-- Row 1 -->
                                <button class="calc-btn" onclick="clearCalculator()" style="background: rgba(220, 38, 38, 0.8); grid-column: span 2;">Clear</button>
                                <button class="calc-btn" onclick="deleteLast()">⌫</button>
                                <button class="calc-btn operator" onclick="appendToDisplay('/')" title="Divide">÷</button>

                                <!-- Row 2 -->
                                <button class="calc-btn" onclick="appendToDisplay('7')">7</button>
                                <button class="calc-btn" onclick="appendToDisplay('8')">8</button>
                                <button class="calc-btn" onclick="appendToDisplay('9')">9</button>
                                <button class="calc-btn operator" onclick="appendToDisplay('*')" title="Multiply">×</button>

                                <!-- Row 3 -->
                                <button class="calc-btn" onclick="appendToDisplay('4')">4</button>
                                <button class="calc-btn" onclick="appendToDisplay('5')">5</button>
                                <button class="calc-btn" onclick="appendToDisplay('6')">6</button>
                                <button class="calc-btn operator" onclick="appendToDisplay('-')" title="Subtract">−</button>

                                <!-- Row 4 -->
                                <button class="calc-btn" onclick="appendToDisplay('1')">1</button>
                                <button class="calc-btn" onclick="appendToDisplay('2')">2</button>
                                <button class="calc-btn" onclick="appendToDisplay('3')">3</button>
                                <button class="calc-btn operator" onclick="appendToDisplay('+')" title="Add">+</button>

                                <!-- Row 5 -->
                                <button class="calc-btn" onclick="appendToDisplay('0')" style="grid-column: span 2;">0</button>
                                <button class="calc-btn" onclick="appendToDisplay('.')">.</button>
                                <button class="calc-btn operator" onclick="calculateResult()" style="background: rgba(34, 197, 94, 0.8);" title="Equals">=</button>

                                <!-- Scientific Functions Row -->
                                <button class="calc-btn scientific" onclick="appendFunction('Math.sin(')" title="Sine">sin</button>
                                <button class="calc-btn scientific" onclick="appendFunction('Math.cos(')" title="Cosine">cos</button>
                                <button class="calc-btn scientific" onclick="appendFunction('Math.tan(')" title="Tangent">tan</button>
                                <button class="calc-btn scientific" onclick="appendFunction('Math.log(')" title="Natural Log">ln</button>

                                <button class="calc-btn scientific" onclick="appendFunction('Math.sqrt(')" title="Square Root">√</button>
                                <button class="calc-btn scientific" onclick="appendToDisplay('**')" title="Power">x^y</button>
                                <button class="calc-btn scientific" onclick="appendToDisplay('Math.PI')" title="Pi">π</button>
                                <button class="calc-btn scientific" onclick="appendToDisplay('Math.E')" title="Euler's number">e</button>
                            </div>

                            <div class="calculator-history" style="margin-top: 20px;">
                                <h4 style="color: var(--text-light); margin-bottom: 10px;">History</h4>
                                <div id="calcHistory" style="max-height: 150px; overflow-y: auto; background: rgba(0, 0, 0, 0.3); padding: 10px; border-radius: 8px; font-family: 'Courier New', monospace; font-size: 0.9rem;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hash Converter Tool Interface -->
                <div id="hashConverter" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">Hash Converter & Encryption</h3>

                        <div class="form-group">
                            <label for="hashInput" class="form-label">Input Text</label>
                            <textarea id="hashInput" class="prompt-input" placeholder="Enter text to hash..." style="min-height: 100px;"></textarea>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="hashAlgorithm" class="form-label">Hash Algorithm</label>
                                <div class="select-wrapper">
                                    <select id="hashAlgorithm" class="custom-select">
                                        <option value="md5">MD5</option>
                                        <option value="sha1">SHA-1</option>
                                        <option value="sha256" selected>SHA-256</option>
                                        <option value="sha512">SHA-512</option>
                                        <option value="bcrypt">Bcrypt (with salt)</option>
                                        <option value="pbkdf2">PBKDF2 (with salt)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="hashSalt" class="form-label">Salt (Optional)</label>
                                <input type="text" id="hashSalt" class="prompt-input" style="min-height: auto; padding: 15px;" placeholder="Enter custom salt...">
                            </div>
                        </div>

                        <div class="controls-grid">
                            <button class="generate-btn" onclick="generateHash()">
                                <span class="btn-icon">🔐</span>
                                Generate Hash
                            </button>

                            <button class="generate-btn" onclick="generateRandomSalt()" style="background: linear-gradient(135deg, #059669, #047857);">
                                <span class="btn-icon">🎲</span>
                                Generate Salt
                            </button>
                        </div>

                        <div id="hashResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <!-- Binary Converter Tool Interface -->
                <div id="binaryConverter" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">Binary Converter</h3>

                        <div class="form-group">
                            <label for="binaryInput" class="form-label">Input Value</label>
                            <textarea id="binaryInput" class="prompt-input" placeholder="Enter value to convert..." style="min-height: 100px;"></textarea>
                        </div>

                        <div class="controls-grid">
                            <div class="form-group">
                                <label for="inputFormat" class="form-label">Input Format</label>
                                <div class="select-wrapper">
                                    <select id="inputFormat" class="custom-select">
                                        <option value="decimal" selected>Decimal (Base 10)</option>
                                        <option value="binary">Binary (Base 2)</option>
                                        <option value="octal">Octal (Base 8)</option>
                                        <option value="hexadecimal">Hexadecimal (Base 16)</option>
                                        <option value="text">Text (ASCII)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="outputFormat" class="form-label">Output Format</label>
                                <div class="select-wrapper">
                                    <select id="outputFormat" class="custom-select">
                                        <option value="binary" selected>Binary (Base 2)</option>
                                        <option value="decimal">Decimal (Base 10)</option>
                                        <option value="octal">Octal (Base 8)</option>
                                        <option value="hexadecimal">Hexadecimal (Base 16)</option>
                                        <option value="text">Text (ASCII)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="controls-grid">
                            <button class="generate-btn" onclick="convertBinary()">
                                <span class="btn-icon">💻</span>
                                Convert
                            </button>

                            <button class="generate-btn" onclick="clearBinaryConverter()" style="background: linear-gradient(135deg, #DC2626, #B91C1C);">
                                <span class="btn-icon">🗑️</span>
                                Clear
                            </button>
                        </div>

                        <div id="binaryResult" style="margin-top: 20px;"></div>
                    </div>
                </div>

                <!-- Password Generator Tool Interface -->
                <div id="passwordGenerator" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <h3 class="results-title" style="margin-bottom: 20px;">Secure Password Generator</h3>

                        <div class="controls-grid">
                <div id="browserEditor" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <div class="browser-editor-container">
                            <div class="qr-scanner-header">
                                <h2 class="qr-scanner-title">🌐 Browser Editor</h2>
                                <p class="qr-scanner-subtitle">Browse websites and edit text content</p>
                            </div>
                            <div class="browser-toolbar">
                                <input type="text" id="browserUrl" class="browser-address-bar" placeholder="Enter URL (e.g., https://google.com)" value="https://google.com">
                                <button id="loadUrlBtn" class="browser-btn">🌐 Load</button>
                                <button id="editModeBtn" class="browser-btn">✏️ Edit Mode</button>
                            </div>
                            <div style="position: relative;">
                                <iframe id="browser-iframe" src="https://google.com"></iframe>
                                <div id="editModeIndicator" class="edit-mode-indicator">Edit Mode: ON</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="whiteboard" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <div class="whiteboard-container">
                            <div class="qr-scanner-header">
                                <h2 class="qr-scanner-title">📝 Digital Whiteboard</h2>
                                <p class="qr-scanner-subtitle">Draw, write, and create with digital tools</p>
                            </div>
                            <div class="whiteboard-toolbar">
                                <button class="tool-btn active" data-tool="pen">✏️ Pen</button>
                                <button class="tool-btn" data-tool="eraser">🧹 Eraser</button>
                                <button class="tool-btn" data-tool="line">📏 Line</button>
                                <button class="tool-btn" data-tool="rectangle">⬜ Rectangle</button>
                                <button class="tool-btn" data-tool="circle">⭕ Circle</button>
                                <button class="tool-btn" data-tool="text">📝 Text</button>
                                <input type="color" id="colorPicker" class="color-picker" value="#000000">
                                <label for="brushSize" style="color: var(--text-light);">Size:</label>
                                <input type="range" id="brushSize" class="size-slider" min="1" max="50" value="5">
                                <button id="clearWhiteboard" class="tool-btn">🗑️ Clear</button>
                                <button id="downloadWhiteboard" class="tool-btn">💾 Save</button>
                            </div>
                            <canvas id="whiteboard"></canvas>
                        </div>
                    </div>
                </div>
                <div id="toneGenerator" class="tool-interface" style="display: none;">
                    <div class="control-panel">
                        <button class="nav-tab" onclick="backToTools()" style="margin-bottom: 20px;">← Back to Tools</button>
                        <div class="tone-generator-container">
                            <div class="qr-scanner-header">
                                <h2 class="qr-scanner-title">🎵 Tone Generator</h2>
                                <p class="qr-scanner-subtitle">Generate pure tones for testing and calibration</p>
                            </div>
                            <div class="tone-frequency-display" id="toneFrequencyDisplay">440 Hz</div>
                            <div class="tone-controls">
                                <div class="form-group">
                                    <label for="toneFrequency" class="form-label">Frequency (Hz)</label>
                                    <input type="range" id="toneFrequency" class="range-slider" min="20" max="20000" value="440" step="1">
                                    <div style="display: flex; justify-content: space-between; font-size: 0.9rem; color: var(--text-muted);">
                                        <span>20 Hz</span>
                                        <span>20,000 Hz</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="toneVolume" class="form-label">Volume</label>
                                    <input type="range" id="toneVolume" class="range-slider" min="0" max="100" value="50" step="1">
                                </div>
                            </div>
                            <div class="tone-buttons">
                                <button class="tone-btn" data-freq="220">220 Hz</button>
                                <button class="tone-btn" data-freq="440">440 Hz</button>
                                <button class="tone-btn" data-freq="880">880 Hz</button>
                                <button class="tone-btn" data-freq="1000">1 kHz</button>
                                <button class="tone-btn" data-freq="2000">2 kHz</button>
                                <button class="tone-btn" data-freq="5000">5 kHz</button>
                            </div>
                            <div style="display: flex; gap: 15px; justify-content: center;">
                                <button id="playToneBtn" class="qr-scanner-btn">▶️ Play Tone</button>
                                <button id="stopToneBtn" class="qr-scanner-btn" disabled>⏹️ Stop Tone</button>
                            </div>
                        </div>
                    </div>
                </div>
                            <div class="form-group">
                                <label for="passwordLength" class="form-label">Password Length</label>
                                <input type="range" id="passwordLength" min="4" max="128" value="16" class="range-slider" oninput="updateLengthDisplay()">
                                <div style="text-align: center; margin-top: 10px;">
                                    <span id="lengthDisplay" style="color: var(--accent-purple); font-weight: 600; font-size: 1.2rem;">16</span> characters
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="passwordCount" class="form-label">Number of Passwords</label>
                                <div class="select-wrapper">
                                    <select id="passwordCount" class="custom-select">
                                        <option value="1" selected>1 Password</option>
                                        <option value="5">5 Passwords</option>
                                        <option value="10">10 Passwords</option>
                                        <option value="20">20 Passwords</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Character Types</label>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="includeUppercase" checked>
                                    <span class="checkmark"></span>
                                    Uppercase Letters (A-Z)
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" id="includeLowercase" checked>
                                    <span class="checkmark"></span>
                                    Lowercase Letters (a-z)
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" id="includeNumbers" checked>
                                    <span class="checkmark"></span>
                                    Numbers (0-9)
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" id="includeSymbols" checked>
                                    <span class="checkmark"></span>
                                    Symbols (!@#$%^&*)
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" id="includeExtendedSymbols">
                                    <span class="checkmark"></span>
                                    Extended Symbols
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" id="excludeSimilar">
                                    <span class="checkmark"></span>
                                    Exclude Similar (0,O,l,1)
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="customChars" class="form-label">Custom Characters (Optional)</label>
                            <input type="text" id="customChars" class="prompt-input" style="min-height: auto; padding: 15px;" placeholder="Add custom characters...">
                        </div>

                        <div class="controls-grid">
                            <button class="generate-btn" onclick="generatePasswords()">
                                <span class="btn-icon">🔑</span>
                                Generate Passwords
                            </button>

                            <button class="generate-btn" onclick="generatePassphrase()" style="background: linear-gradient(135deg, #059669, #047857);">
                                <span class="btn-icon">📝</span>
                                Generate Passphrase
                            </button>
                        </div>

                        <div id="passwordResult" style="margin-top: 20px;"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p class="footer-text">
                Created with ❤️ by <span class="lnd-signature">LND</span> | 
                © 2024 LND Multi-Tool Suite | 
                <span class="lnd-signature">AI-Powered Excellence</span>
            </p>
        </footer>
    </div>

    <!-- Chatbot Widget -->
    <button class="chatbot-toggle" id="chatbotToggle" onclick="toggleChatbot()">💬</button>
    
    <div class="chatbot-window" id="chatbotWindow">
        <div class="chatbot-header">
            <div class="chatbot-title">🤖 AI Assistant</div>
            <select class="chat-model-select" id="chatModelSelect" onchange="changeChatModel()">
                <option value="pollinations">Pollinations AI</option>
                <option value="gemini">Google Gemini</option>
                <option value="deepseek">DeepSeek R1</option>
            </select>
            <button class="chatbot-close" onclick="toggleChatbot()">✕</button>
        </div>
        
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chat-message bot-message">
                <div class="message-avatar">🤖</div>
                <div class="message-content">
                    Hello! I'm your AI assistant. I can help you with creative ideas, answer questions, or just chat. How can I assist you today?
                </div>
            </div>
        </div>
        
        <div class="chatbot-input-area">
            <div class="chat-input-container">
                <textarea 
                    class="chat-input" 
                    id="chatInput" 
                    placeholder="Type your message..."
                    rows="1"
                    onkeypress="handleChatKeyPress(event)"
                ></textarea>
                <button class="chat-send-btn" onclick="sendMessage()">➤</button>
            </div>
            
            <div class="form-group" style="margin-top: 15px; margin-bottom: 0;">
                <label class="checkbox-label" style="margin-left: 15px;">
                    <input type="checkbox" id="keepContext" checked>
                    <span class="checkmark"></span>
                    Keep context
                </label>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let html5QrCode = null;
        let currentChatModel = 'pollinations';
        let isGenerating = false;
        let generatedImages = [];
        let generatedAudio = [];
        let chatHistory = [];
        let currentCameraId = null;
        let cameras = [];
        let currentCameraIndex = 0;
        
        // Tone generator variables
        let audioContext = null;
        let oscillator = null;
        let gainNode = null;
        let isPlaying = false;
        
        // Whiteboard variables
        let canvas = null;
        let ctx = null;
        let isDrawing = false;
        let currentTool = 'pen';
        let currentColor = '#000000';
        let currentSize = 5;
        let startX = 0;
        let startY = 0;
        
        // Browser editor variables
        let isEditMode = false;

        // API Keys
        const GEMINI_API_KEY = 'AIzaSyC1AGmqb60CGMLK8QqH9phziNS24HuK-5Y';
        const DEEPSEEK_API_KEY = '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';

        // Initialize particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all sections
            document.querySelectorAll('.tool-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Text to Image Generation with Sequential Display
        document.getElementById('imageForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (isGenerating) return;
            
            const prompt = document.getElementById('prompt').value;
            const imageCount = parseInt(document.getElementById('imageCount').value);
            const style = document.getElementById('style').value;
            const quality = document.getElementById('quality').value;
            let apiProvider = document.getElementById('apiProvider').value;
            
            const generateBtn = document.getElementById('generateBtn');
            const resultsContainer = document.getElementById('resultsContainer');
            const resultsCount = document.getElementById('resultsCount');
            
            isGenerating = true;
            generateBtn.disabled = true;
            generateBtn.innerHTML = '<span class="btn-icon">⏳</span> Generating...';
            
            // Clear previous results
            resultsContainer.innerHTML = '<div class="image-grid"></div>';
            generatedImages = [];
            
            // Build enhanced prompt
            let enhancedPrompt = prompt;
            if (style) enhancedPrompt += `, ${style} style`;
            if (quality) enhancedPrompt += `, ${quality} quality`;
            
            let successfulImages = 0;
            for (let i = 0; i < imageCount; i++) {
                resultsCount.textContent = `${successfulImages}/${imageCount} Images`;
                
                try {
                    const imageData = await generateSingleImageWithRetry(enhancedPrompt, apiProvider, i);
                    
                    if (imageData && imageData.url) {
                        successfulImages++;
                        generatedImages.push(imageData);
                        
                        // Create and append image card
                        const imageGrid = resultsContainer.querySelector('.image-grid');
                        const imageCard = document.createElement('div');
                        imageCard.className = 'image-card';
                        
                        imageCard.innerHTML = `
                            <div class="image-container">
                                <img src="${imageData.url}" alt="Generated Image ${i + 1}" class="generated-image" loading="lazy" onerror="this.parentElement.parentElement.style.display='none'">
                                <div class="image-overlay">
                                    <button class="download-btn" onclick="downloadImage('${imageData.url}', 'generated-image-${i + 1}')">
                                        ⬇️ Download
                                    </button>
                                </div>
                            </div>
                            <div class="image-info">
                                <div class="image-source">🎨 ${imageData.provider}</div>
                                <div class="image-prompt">${imageData.prompt}</div>
                            </div>
                        `;
                        
                        imageGrid.appendChild(imageCard);
                    } else {
                        console.log(`Image ${i+1} failed to generate after all retries.`);
                    }
                } catch (error) {
                    console.error(`Error generating image ${i + 1}:`, error);
                }
                
                resultsCount.textContent = `${successfulImages}/${imageCount} Images`;
                // Small delay between requests
                await new Promise(resolve => setTimeout(resolve, 200));
            }
            
            // Show message if no images were generated
            if (successfulImages === 0) {
                resultsContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">😔</div>
                        <div class="empty-text">No Images Generated</div>
                        <div class="empty-subtext">All image generation attempts failed. Please try again with a different prompt or check the console for errors.</div>
                    </div>
                `;
            }
            
            isGenerating = false;
            generateBtn.disabled = false;
            generateBtn.innerHTML = '<span class="btn-icon">🚀</span> Generate Masterpiece';
        });

        async function validateImageUrl(url) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => resolve(true);
                img.onerror = () => resolve(false);
                img.src = url;
            });
        }

        async function generateSingleImageWithRetry(prompt, apiProvider, index) {
            const providers = [
                'pollinations', 'deepai', 'huggingface', 'modelslab', 'replicate',
                'perchance', 'raphaelai', 'venice', 'nastia', 'vadoo', 'flux',
                'stablediffusion', 'aiscribble', 'nsfwai', 'dynapictures', 'gemini',
                'sexyai', 'pornpen', 'soulgen', 'dreamgf', 'icegirls'
            ];

            let providerList = [];
            if (apiProvider === 'random') {
                // Shuffle providers for random selection
                providerList = providers.sort(() => 0.5 - Math.random());
            } else {
                // Start with the selected provider, then the rest as fallbacks
                providerList = [apiProvider, ...providers.filter(p => p !== apiProvider)];
            }
            
            for (const provider of providerList) {
                try {
                    console.log(`Attempting to generate image with ${provider}...`);
                    // For demo, we'll just use the pollination URL structure.
                    // A real implementation would have different logic for each provider.
                    const imageUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?width=512&height=512&nologo=true&seed=${Date.now() + index}&model=${provider}`;

                    const isValid = await validateImageUrl(imageUrl);

                    if (isValid) {
                        console.log(`Successfully generated image with ${provider}.`);
                        return {
                            url: imageUrl,
                            prompt: prompt,
                            provider: provider,
                            index: index
                        };
                    } else {
                        throw new Error('Generated image URL is not valid.');
                    }

                } catch (error) {
                    console.error(`Failed to generate image with ${provider}:`, error.message);
                    // Continue to the next provider
                }
            }
            // If all providers fail
            return null;
        }

        function downloadImage(url, filename) {
            const link = document.createElement('a');
            link.href = url;
            link.download = `${filename}.jpg`;
            link.target = '_blank';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Web Scraping Functionality
        document.getElementById('scrapeForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const keyword = document.getElementById('scrapeKeyword').value;
            const count = parseInt(document.getElementById('scrapeCount').value);
            const quality = document.getElementById('scrapeQuality').value;
            
            const scrapBtn = document.getElementById('scrapBtn');
            const scrapResultsContainer = document.getElementById('scrapResultsContainer');
            const scrapResultsCount = document.getElementById('scrapResultsCount');
            
            scrapBtn.disabled = true;
            scrapBtn.innerHTML = '<span class="btn-icon">⏳</span> Scraping...';
            
            scrapResultsContainer.innerHTML = `
                <div class="loading-container">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Scraping Images</div>
                    <div class="loading-subtext">Finding ${count} ${quality} quality images for "${keyword}"...</div>
                </div>
            `;
            
            try {
                // Simulate web scraping with Unsplash API
                const images = [];
                
                for (let i = 0; i < Math.min(count, 50); i++) {
                    const imageUrl = `https://source.unsplash.com/featured/?${encodeURIComponent(keyword)}&sig=${Date.now() + i}`;
                    images.push({
                        url: imageUrl,
                        keyword: keyword,
                        quality: quality
                    });
                }
                
                displayScrapedImages(images, count);
                
            } catch (error) {
                console.error('Error scraping images:', error);
                scrapResultsContainer.innerHTML = `
                    <div class="error-message">
                        <span>❌ Error scraping images. Please try again.</span>
                        <button class="reload-btn" onclick="location.reload()">Reload Page</button>
                    </div>
                `;
            } finally {
                scrapBtn.disabled = false;
                scrapBtn.innerHTML = '<span class="btn-icon">🔍</span> Start Web Scraping';
            }
        });

        function displayScrapedImages(images, totalCount) {
            const scrapResultsContainer = document.getElementById('scrapResultsContainer');
            const scrapResultsCount = document.getElementById('scrapResultsCount');
            const downloadZipBtn = document.getElementById('downloadZipBtn');
            
            scrapResultsCount.textContent = `${Math.min(images.length, 6)} of ${totalCount} Images`;
            
            if (images.length === 0) {
                scrapResultsContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">😔</div>
                        <div class="empty-text">No Images Found</div>
                        <div class="empty-subtext">Try a different keyword</div>
                    </div>
                `;
                return;
            }
            
            const imageGrid = document.createElement('div');
            imageGrid.className = 'image-grid';
            
            // Display only first 6 images
            const displayImages = images.slice(0, 6);
            
            displayImages.forEach((imageData, index) => {
                const imageCard = document.createElement('div');
                imageCard.className = 'image-card';
                
                imageCard.innerHTML = `
                    <div class="image-container">
                        <img src="${imageData.url}" alt="Scraped Image ${index + 1}" class="generated-image" loading="lazy">
                        <div class="image-overlay">
                            <button class="download-btn" onclick="downloadImage('${imageData.url}', 'scraped-${imageData.keyword}-${index + 1}')">
                                ⬇️ Download
                            </button>
                        </div>
                    </div>
                    <div class="image-info">
                        <div class="image-source">🔍 ${imageData.keyword}</div>
                        <div class="image-prompt">Quality: ${imageData.quality}</div>
                    </div>
                `;
                
                imageGrid.appendChild(imageCard);
            });
            
            scrapResultsContainer.innerHTML = '';
            scrapResultsContainer.appendChild(imageGrid);
            
            // Show download ZIP button if there are more images
            if (images.length > 6) {
                downloadZipBtn.style.display = 'block';
                downloadZipBtn.onclick = () => downloadAllImages(images);
            }
        }

        function downloadAllImages(images) {
            // This would require a server-side implementation for ZIP creation
            alert('ZIP download feature requires server-side implementation. Individual downloads are available.');
        }

        // Text to Speech Functionality
        document.getElementById('ttsForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const text = document.getElementById('ttsText').value;
            const voice = document.getElementById('ttsVoice').value;
            const speed = parseFloat(document.getElementById('ttsSpeed').value);
            const engine = document.getElementById('ttsEngine').value;
            const format = document.getElementById('ttsFormat').value;
            
            const ttsBtn = document.getElementById('ttsBtn');
            const ttsResultsContainer = document.getElementById('ttsResultsContainer');
            const ttsResultsCount = document.getElementById('ttsResultsCount');
            
            ttsBtn.disabled = true;
            ttsBtn.innerHTML = '<span class="btn-icon">⏳</span> Generating...';
            
            ttsResultsContainer.innerHTML = `
                <div class="loading-container">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Generating Speech</div>
                    <div class="loading-subtext">Converting text to ${format.toUpperCase()} audio...</div>
                </div>
            `;
            
            try {
                const audioData = await generateSpeech(text, voice, speed, engine, format);
                generatedAudio.push(audioData);
                displayGeneratedAudio();
                
            } catch (error) {
                console.error('Error generating speech:', error);
                ttsResultsContainer.innerHTML = `
                    <div class="error-message">
                        <span>❌ Error generating speech. Please try again.</span>
                        <button class="reload-btn" onclick="location.reload()">Reload Page</button>
                    </div>
                `;
            } finally {
                ttsBtn.disabled = false;
                ttsBtn.innerHTML = '<span class="btn-icon">🔊</span> Generate Speech';
            }
        });

        async function generateSpeech(text, voice, speed, engine, format) {
            // This function now uses a more reliable external service that provides MP3s
            try {
                const response = await fetch(`https://api.streamelements.com/kappa/v2/speech?voice=${voice}&text=${encodeURIComponent(text)}`);
                if (!response.ok) {
                    throw new Error(`TTS API error: ${response.status}`);
                }
                const blob = await response.blob();
                const audioUrl = URL.createObjectURL(blob);

                return {
                    text: text,
                    voice: voice,
                    speed: speed, // Speed is not supported by this API, but we keep it for consistency
                    engine: 'StreamElements',
                    format: 'mp3',
                    audioUrl: audioUrl,
                    blob: blob
                };

            } catch (error) {
                console.error('Error generating speech:', error);
                // Fallback to browser's built-in speech synthesis
                return new Promise((resolve, reject) => {
                    if ('speechSynthesis' in window) {
                        const utterance = new SpeechSynthesisUtterance(text);
                        utterance.lang = 'en-US';
                        utterance.rate = speed;
                        
                        utterance.onend = () => {
                            resolve({
                                text: text,
                                voice: 'Browser Built-in',
                                speed: speed,
                                engine: 'offline',
                                format: 'N/A',
                                audioUrl: null,
                                blob: null
                            });
                        };
                        
                        utterance.onerror = (e) => {
                            reject(e);
                        };
                        
                        speechSynthesis.speak(utterance);
                    } else {
                        reject(new Error('Speech synthesis not supported'));
                    }
                });
            }
        }

        function displayGeneratedAudio() {
            const ttsResultsContainer = document.getElementById('ttsResultsContainer');
            const ttsResultsCount = document.getElementById('ttsResultsCount');
            
            ttsResultsCount.textContent = `${generatedAudio.length} Audio Files`;
            
            if (generatedAudio.length === 0) {
                ttsResultsContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">😔</div>
                        <div class="empty-text">No Audio Generated</div>
                        <div class="empty-subtext">Please try again with different text</div>
                    </div>
                `;
                return;
            }
            
            const audioContainer = document.createElement('div');
            audioContainer.style.display = 'flex';
            audioContainer.style.flexDirection = 'column';
            audioContainer.style.gap = '20px';
            
            generatedAudio.forEach((audioData, index) => {
                const audioCard = document.createElement('div');
                audioCard.className = 'audio-player';
                
                const audioElement = audioData.audioUrl ? 
                    `<audio controls style="width: 100%; margin-bottom: 15px;">
                        <source src="${audioData.audioUrl}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>` :
                    `<div style="text-align: center; padding: 20px; background: rgba(0,0,0,0.3); border-radius: 10px; margin-bottom: 15px;">
                        🔊 Audio played using browser speech synthesis. Download not available.
                    </div>`;
                
                audioCard.innerHTML = `
                    ${audioElement}
                    <div class="audio-info">
                        <div class="audio-voice">🎤 ${audioData.voice}</div>
                        <div class="audio-speed">⚡ Speed: ${audioData.speed}x</div>
                    </div>
                    <div class="audio-text">${audioData.text}</div>
                    <div style="margin-top: 15px;">
                        ${audioData.audioUrl ? 
                            `<button class="download-btn" onclick="downloadAudio('${audioData.audioUrl}', 'speech-${index + 1}', 'mp3')">
                                ⬇️ Download MP3
                            </button>` :
                            `<button class="download-btn" onclick="replaySpeech(${index})">
                                🔊 Replay Speech
                            </button>`
                        }
                    </div>
                `;
                
                audioContainer.appendChild(audioCard);
            });
            
            ttsResultsContainer.innerHTML = '';
            ttsResultsContainer.appendChild(audioContainer);
        }

        function downloadAudio(audioUrl, filename, format) {
            const link = document.createElement('a');
            link.href = audioUrl;
            link.download = `${filename}.${format}`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function replaySpeech(index) {
            const audioData = generatedAudio[index];
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(audioData.text);
                const voiceMap = {
                    'en-US-female': { lang: 'en-US' },
                    'en-US-male': { lang: 'en-US' },
                    'en-GB-female': { lang: 'en-GB' },
                    'en-GB-male': { lang: 'en-GB' },
                    'en-US-child': { lang: 'en-US' },
                    'hi-IN-female': { lang: 'hi-IN' },
                    'hi-IN-male': { lang: 'hi-IN' },
                    'en-IN-female': { lang: 'en-IN' },
                    'en-IN-male': { lang: 'en-IN' },
                    'es-ES-female': { lang: 'es-ES' },
                    'fr-FR-female': { lang: 'fr-FR' },
                    'de-DE-male': { lang: 'de-DE' },
                    'it-IT-female': { lang: 'it-IT' },
                    'pt-BR-female': { lang: 'pt-BR' },
                    'ru-RU-female': { lang: 'ru-RU' },
                    'ja-JP-female': { lang: 'ja-JP' },
                    'ko-KR-female': { lang: 'ko-KR' },
                    'zh-CN-female': { lang: 'zh-CN' },
                    'ar-SA-female': { lang: 'ar-SA' }
                };
                
                const voiceConfig = voiceMap[audioData.voice] || voiceMap['en-US-female'];
                utterance.lang = voiceConfig.lang;
                utterance.rate = audioData.speed;
                speechSynthesis.speak(utterance);
            }
        }

        // QR Code Scanner Functionality
        function initQRScanner() {
            const startScanBtn = document.getElementById('startScanBtn');
            const switchCameraBtn = document.getElementById('switchCameraBtn');
            const uploadScanBtn = document.getElementById('uploadScanBtn');
            const stopScanBtn = document.getElementById('stopScanBtn');
            const qrReader = document.getElementById('qr-reader');
            const qrFileInput = document.getElementById('qrFileInput');
            
            startScanBtn.addEventListener('click', startCameraScan);
            switchCameraBtn.addEventListener('click', switchCamera);
            uploadScanBtn.addEventListener('click', () => qrFileInput.click());
            stopScanBtn.addEventListener('click', stopScanning);
            qrFileInput.addEventListener('change', handleFileUpload);
        }

        async function startCameraScan() {
            const qrReader = document.getElementById('qr-reader');
            const startScanBtn = document.getElementById('startScanBtn');
            const stopScanBtn = document.getElementById('stopScanBtn');
            const switchCameraBtn = document.getElementById('switchCameraBtn');
            
            try {
                // Get available cameras
                const devices = await Html5Qrcode.getCameras();
                cameras = devices;
                
                if (devices && devices.length) {
                    // Try to find the back camera first
                    currentCameraIndex = devices.findIndex(device => 
                        device.label.toLowerCase().includes('back') || 
                        device.label.toLowerCase().includes('rear')
                    );
                    
                    // If no back camera found, use the first camera
                    if (currentCameraIndex === -1) {
                        currentCameraIndex = 0;
                    }
                    
                    currentCameraId = devices[currentCameraIndex].id;
                    
                    html5QrCode = new Html5Qrcode("qr-reader");
                    
                    await html5QrCode.start(
                        currentCameraId,
                        {
                            fps: 10,
                            qrbox: { width: 250, height: 250 }
                        },
                        (decodedText, decodedResult) => {
                            handleQRResult(decodedText);
                        },
                        (errorMessage) => {
                            // Handle scan error silently
                        }
                    );
                    
                    qrReader.style.display = 'block';
                    startScanBtn.style.display = 'none';
                    stopScanBtn.style.display = 'inline-block';
                    
                    // Show camera controls if multiple cameras available
                    if (devices.length > 1) {
                        switchCameraBtn.style.display = 'inline-block';
                    }
                } else {
                    alert('No cameras found. Please use the upload option.');
                }
            } catch (err) {
                console.error('Unable to start scanning', err);
                alert('Unable to access camera. Please check permissions.');
            }
        }

        async function switchCamera() {
            if (!html5QrCode || cameras.length <= 1) return;
            
            try {
                // Stop current camera
                await html5QrCode.stop();
                
                // Switch to next camera
                currentCameraIndex = (currentCameraIndex + 1) % cameras.length;
                currentCameraId = cameras[currentCameraIndex].id;
                
                // Start with new camera
                await html5QrCode.start(
                    currentCameraId,
                    {
                        fps: 10,
                        qrbox: { width: 250, height: 250 }
                    },
                    (decodedText, decodedResult) => {
                        handleQRResult(decodedText);
                    },
                    (errorMessage) => {
                        // Handle scan error silently
                    }
                );
            } catch (err) {
                console.error('Error switching camera', err);
            }
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                html5QrCode = new Html5Qrcode("qr-reader");
                
                html5QrCode.scanFile(file, true).then(decodedText => {
                    handleQRResult(decodedText);
                }).catch(err => {
                    console.error('Error scanning file', err);
                    alert('No QR code found in the image.');
                });
            }
        }

        function handleQRResult(decodedText) {
            const resultDiv = document.getElementById('qr-scanner-result');
            const resultText = document.getElementById('qr-result-text');
            
            resultText.textContent = decodedText;
            resultDiv.style.display = 'block';
            
            // Auto-stop scanning after successful scan
            stopScanning();
        }

        function stopScanning() {
            const qrReader = document.getElementById('qr-reader');
            const startScanBtn = document.getElementById('startScanBtn');
            const stopScanBtn = document.getElementById('stopScanBtn');
            const switchCameraBtn = document.getElementById('switchCameraBtn');
            
            if (html5QrCode) {
                html5QrCode.stop().then(() => {
                    qrReader.style.display = 'none';
                    startScanBtn.style.display = 'inline-block';
                    stopScanBtn.style.display = 'none';
                    switchCameraBtn.style.display = 'none';
                }).catch(err => {
                    console.error('Unable to stop scanning', err);
                });
            }
        }

        // Copy QR result to clipboard
        document.getElementById('copyQrResult')?.addEventListener('click', function() {
            const resultText = document.getElementById('qr-result-text').textContent;
            navigator.clipboard.writeText(resultText).then(() => {
                this.textContent = '✅ Copied!';
                setTimeout(() => {
                    this.textContent = '📋 Copy Result';
                }, 2000);
            });
        });

        // Tone Generator Functionality
        function initToneGenerator() {
            const toneFrequency = document.getElementById('toneFrequency');
            const toneVolume = document.getElementById('toneVolume');
            const toneFrequencyDisplay = document.getElementById('toneFrequencyDisplay');
            const playToneBtn = document.getElementById('playToneBtn');
            const stopToneBtn = document.getElementById('stopToneBtn');
            const toneButtons = document.querySelectorAll('.tone-btn');
            
            // Update frequency display and playing tone
            toneFrequency.addEventListener('input', function() {
                toneFrequencyDisplay.textContent = `${this.value} Hz`;
                if (isPlaying && oscillator) {
                    oscillator.frequency.setValueAtTime(this.value, audioContext.currentTime);
                }
            });

            // Update volume of playing tone
            toneVolume.addEventListener('input', function() {
                if (isPlaying && gainNode) {
                    gainNode.gain.setValueAtTime(this.value / 100, audioContext.currentTime);
                }
            });
            
            // Play/Stop buttons
            playToneBtn.addEventListener('click', playTone);
            stopToneBtn.addEventListener('click', stopTone);
            
            // Preset frequency buttons
            toneButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const freq = this.getAttribute('data-freq');
                    toneFrequency.value = freq;
                    toneFrequencyDisplay.textContent = `${freq} Hz`;
                    if (isPlaying && oscillator) {
                        oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
                    }
                });
            });
        }

        function playTone() {
            if (isPlaying) return;
            
            const frequency = parseFloat(document.getElementById('toneFrequency').value);
            const volume = parseFloat(document.getElementById('toneVolume').value) / 100;
            
            try {
                // Create audio context
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Create oscillator
                oscillator = audioContext.createOscillator();
                gainNode = audioContext.createGain();
                
                // Configure oscillator
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                
                // Configure gain
                gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
                
                // Connect nodes
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // Start playing
                oscillator.start();
                isPlaying = true;
                
                // Update UI
                document.getElementById('playToneBtn').disabled = true;
                document.getElementById('stopToneBtn').disabled = false;
                
            } catch (error) {
                console.error('Error playing tone:', error);
                alert('Unable to play tone. Please check your browser settings.');
            }
        }

        function stopTone() {
            if (!isPlaying || !oscillator) return;
            
            try {
                oscillator.stop();
                oscillator = null;
                
                if (audioContext) {
                    audioContext.close();
                    audioContext = null;
                }
                
                isPlaying = false;
                
                // Update UI
                document.getElementById('playToneBtn').disabled = false;
                document.getElementById('stopToneBtn').disabled = true;
                
            } catch (error) {
                console.error('Error stopping tone:', error);
            }
        }

        // Whiteboard Functionality
        function initWhiteboard() {
            canvas = document.getElementById('whiteboard');
            ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // Set initial styles
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            // Tool selection
            const toolButtons = document.querySelectorAll('.tool-btn[data-tool]');
            toolButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    toolButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentTool = this.getAttribute('data-tool');
                });
            });
            
            // Color picker
            document.getElementById('colorPicker').addEventListener('change', function() {
                currentColor = this.value;
            });
            
            // Brush size
            document.getElementById('brushSize').addEventListener('input', function() {
                currentSize = this.value;
            });
            
            // Clear button
            document.getElementById('clearWhiteboard').addEventListener('click', clearWhiteboard);
            
            // Download button
            document.getElementById('downloadWhiteboard').addEventListener('click', downloadWhiteboard);
            
            // Mouse events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Touch events
            canvas.addEventListener('touchstart', handleTouch, { passive: false });
            canvas.addEventListener('touchmove', handleTouch, { passive: false });
            canvas.addEventListener('touchend', stopDrawing);
        }

        let savedCanvasData;

        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            startX = (e.clientX || e.touches[0].clientX) - rect.left;
            startY = (e.clientY || e.touches[0].clientY) - rect.top;
            
            ctx.beginPath();
            if (currentTool === 'pen' || currentTool === 'eraser') {
                ctx.moveTo(startX, startY);
            } else {
                savedCanvasData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            }
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - rect.left;
            const y = (e.clientY || e.touches[0].clientY) - rect.top;
            
            ctx.lineWidth = currentSize;
            ctx.strokeStyle = currentColor;
            ctx.globalCompositeOperation = currentTool === 'eraser' ? 'destination-out' : 'source-over';
            
            if (currentTool === 'pen' || currentTool === 'eraser') {
                ctx.lineTo(x, y);
                ctx.stroke();
            } else {
                ctx.putImageData(savedCanvasData, 0, 0);
                ctx.beginPath();

                if (currentTool === 'line') {
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(x, y);
                } else if (currentTool === 'rectangle') {
                    ctx.rect(startX, startY, x - startX, y - startY);
                } else if (currentTool === 'circle') {
                    const radius = Math.sqrt(Math.pow(x - startX, 2) + Math.pow(y - startY, 2));
                    ctx.arc(startX, startY, radius, 0, 2 * Math.PI);
                }
                ctx.stroke();
            }
        }

        function stopDrawing(e) {
            if (!isDrawing) return;
            isDrawing = false;
            
            if (currentTool === 'text') {
                const text = prompt('Enter text:');
                if (text) {
                    ctx.font = `${currentSize * 3}px Arial`;
                    ctx.fillStyle = currentColor;
                    ctx.fillText(text, startX, startY);
                }
            }
        }

        function handleTouch(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 
                                            e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }

        function clearWhiteboard() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function downloadWhiteboard() {
            const link = document.createElement('a');
            link.download = 'whiteboard.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // Browser Editor Functionality
        function initBrowserEditor() {
            const browserUrl = document.getElementById('browserUrl');
            const loadUrlBtn = document.getElementById('loadUrlBtn');
            const editModeBtn = document.getElementById('editModeBtn');
            const browserIframe = document.getElementById('browser-iframe');
            
            loadUrlBtn.addEventListener('click', function() {
                let url = browserUrl.value;
                if (url) {
                    if (!url.startsWith('http://') && !url.startsWith('https://')) {
                        url = 'https://' + url;
                    }
                    // Use a proxy to bypass X-Frame-Options
                    browserIframe.src = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
                }
            });
            
            editModeBtn.addEventListener('click', function() {
                isEditMode = !isEditMode;
                const iframeDoc = browserIframe.contentDocument || browserIframe.contentWindow.document;
                iframeDoc.body.contentEditable = isEditMode;
                
                if (isEditMode) {
                    this.textContent = '👁️ View Mode';
                    this.style.background = 'linear-gradient(135deg, #059669, #047857)';
                    document.getElementById('editModeIndicator').classList.add('active');
                } else {
                    this.textContent = '✏️ Edit Mode';
                    this.style.background = 'linear-gradient(135deg, var(--accent-purple), var(--light-purple))';
                    document.getElementById('editModeIndicator').classList.remove('active');
                }
            });

            // Handle Enter key in URL input
            browserUrl.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    loadUrlBtn.click();
                }
            });
        }

        // Chatbot Functionality
        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            chatbotWindow.classList.toggle('open');
        }

        function changeChatModel() {
            const select = document.getElementById('chatModelSelect');
            currentChatModel = select.value;
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        async function sendMessage() {
            const chatInput = document.getElementById('chatInput');
            const chatbotMessages = document.getElementById('chatbotMessages');
            const message = chatInput.value.trim();
            
            if (!message) return;
            
            // Add user message to history
            chatHistory.push({ role: 'user', content: message });
            
            // Add user message to UI
            const userMessageDiv = document.createElement('div');
            userMessageDiv.className = 'chat-message user-message';
            userMessageDiv.innerHTML = `
                <div class="message-avatar">👤</div>
                <div class="message-content">${message}</div>
            `;
            chatbotMessages.appendChild(userMessageDiv);
            
            chatInput.value = '';
            
            // Add loading indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'chat-message bot-message';
            loadingDiv.innerHTML = `
                <div class="message-avatar">🤖</div>
                <div class="message-content">🤔 Thinking...</div>
            `;
            chatbotMessages.appendChild(loadingDiv);
            
            // Scroll to bottom
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            
            try {
                const response = await getAIResponse(message, currentChatModel);
                
                // Add bot response to history
                chatHistory.push({ role: 'assistant', content: response });
                
                // Remove loading indicator
                loadingDiv.remove();
                
                // Add bot response
                const botMessageDiv = document.createElement('div');
                botMessageDiv.className = 'chat-message bot-message';
                botMessageDiv.innerHTML = `
                    <div class="message-avatar">🤖</div>
                    <div class="message-content">${response}</div>
                `;
                chatbotMessages.appendChild(botMessageDiv);
                
            } catch (error) {
                console.error('Error getting AI response:', error);
                loadingDiv.innerHTML = `
                    <div class="message-avatar">🤖</div>
                    <div class="message-content">❌ Sorry, I encountered an error. Please try again.</div>
                `;
            }
            
            // Scroll to bottom
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        async function getAIResponse(message, model) {
            const keepContext = document.getElementById('keepContext').checked;
            
            if (model === 'pollinations') {
                return await getPollinationsResponse(message, keepContext);
            } else if (model === 'gemini') {
                return await getGeminiResponse(message, keepContext);
            } else if (model === 'deepseek') {
                return await getDeepSeekResponse(message, keepContext);
            }
        }

        async function getPollinationsResponse(message, keepContext) {
            // Create context-aware prompt
            let contextPrompt = message;
            if (keepContext && chatHistory.length > 0) {
                const historyText = chatHistory.map(msg => 
                    `${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`
                ).join('\n');
                
                contextPrompt = `Previous conversation for context:\n${historyText}\n\nCurrent prompt to respond to: ${message}`;
            }
            
            // Using Pollinations API for text generation
            const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(contextPrompt)}`);
            if (!response.ok) {
                throw new Error('Pollinations API error');
            }
            return await response.text();
        }

        async function getGeminiResponse(message, keepContext) {
            let contextPrompt = message;
            if (keepContext && chatHistory.length > 0) {
                const historyText = chatHistory.map(msg => 
                    `${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`
                ).join('\n');
                
                contextPrompt = `Previous conversation for context:\n${historyText}\n\nCurrent prompt to respond to: ${message}`;
            }
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: {
                            role: "user",
                            parts: {
                                text: contextPrompt
                            }
                        }
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('Gemini API Error:', errorData);
                    throw new Error(`Gemini API error: ${response.status} ${response.statusText}. ${errorData.error.message}`);
                }

                const data = await response.json();

                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                    return data.candidates[0].content.parts[0].text;
                } else {
                    console.error('Invalid response structure from Gemini API:', data);
                    throw new Error('Invalid response from Gemini API');
                }
            } catch (error) {
                console.error('Error in getGeminiResponse:', error);
                return `Sorry, I encountered an error with the Gemini API: ${error.message}`;
            }
        }

        async function getDeepSeekResponse(message, keepContext) {
            // Create context-aware prompt
            let contextPrompt = message;
            if (keepContext && chatHistory.length > 0) {
                const historyText = chatHistory.map(msg => 
                    `${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`
                ).join('\n');
                
                contextPrompt = `Previous conversation for context:\n${historyText}\n\nCurrent prompt to respond to: ${message}`;
            }
            
            const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${DEEPSEEK_API_KEY}`,
                    'HTTP-Referer': 'https://lndaihub.netlify.app/',
                    'X-Title': 'LND Multi-Tool Suite'
                },
                body: JSON.stringify({
                    model: 'deepseek/deepseek-r1:free',
                    messages: [{
                        role: 'user',
                        content: contextPrompt
                    }]
                })
            });
            
            const data = await response.json();
            
            if (data.choices && data.choices[0] && data.choices[0].message) {
                return data.choices[0].message.content;
            } else {
                throw new Error('Invalid response from DeepSeek API');
            }
        }

        // Tool opening functions
        function selectTool(toolName) {
            currentTool = toolName;

            // Hide tools grid
            document.querySelector('.tools-grid').parentElement.style.display = 'none';

            // Show selected tool interface
            document.getElementById(toolName).style.display = 'block';
        }

        function backToTools() {
            currentTool = null;
            
            // Show tools grid
            document.querySelector('.tools-grid').parentElement.style.display = 'block';

            // Hide all tool interfaces
            document.querySelectorAll('.tool-interface').forEach(interface => {
                interface.style.display = 'none';
            });
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            initQRScanner();
            initToneGenerator();
            initWhiteboard();
            initBrowserEditor();
            
            // Auto-resize chat input
            const chatInput = document.getElementById('chatInput');
            chatInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 100) + 'px';
            });
            
            // Load preference for keepContext
            const keepContextCheckbox = document.getElementById('keepContext');
            const savedContextPreference = localStorage.getItem('keepContext');
            if (savedContextPreference !== null) {
                keepContextCheckbox.checked = savedContextPreference === 'true';
            }
            keepContextCheckbox.addEventListener('change', function() {
                localStorage.setItem('keepContext', this.checked);
            });
        });

        // Handle window resize for responsive design
        window.addEventListener('resize', function() {
            // Resize canvas if whiteboard is initialized
            if (canvas) {
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
            }
        });
    </script>
</body>
</html>